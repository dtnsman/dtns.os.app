(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-order-createOrder"],{"0b08":function(t,e,a){var i=a("4dcb");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=a("4f06").default;o("56cef749",i,!0,{sourceMap:!1,shadowMode:!1})},"4dcb":function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,'@charset "UTF-8";\n/* uni.scss */\n/* 页面左右间距 */\n/* 文字尺寸 */\n/*文字颜色*/\n/* 边框颜色 */\n/* 图片加载中颜色 */\n/* 行为相关颜色 */uni-page-body[data-v-25821079]{background:#f8f8f8;padding-bottom:%?100?%}body.?%PAGE?%[data-v-25821079]{background:#f8f8f8}.address-section[data-v-25821079]{padding:%?30?% 0;background:#fff;position:relative}.address-section .order-content[data-v-25821079]{display:flex;align-items:center}.address-section .icon-shouhuodizhi[data-v-25821079]{flex-shrink:0;display:flex;align-items:center;justify-content:center;width:%?90?%;color:#888;font-size:%?44?%}.address-section .cen[data-v-25821079]{display:flex;flex-direction:column;flex:1;font-size:%?28?%;color:#303133}.address-section .name[data-v-25821079]{font-size:%?34?%;margin-right:%?24?%}.address-section .address[data-v-25821079]{margin-top:%?16?%;margin-right:%?20?%;color:#909399}.address-section .icon-you[data-v-25821079]{font-size:%?32?%;color:#909399;margin-right:%?30?%}.address-section .a-bg[data-v-25821079]{position:absolute;left:0;bottom:0;display:block;width:100%;height:%?5?%}.goods-section[data-v-25821079]{margin-top:%?16?%;background:#fff;padding-bottom:1px}.goods-section .g-header[data-v-25821079]{display:flex;align-items:center;height:%?84?%;padding:0 %?30?%;position:relative}.goods-section .logo[data-v-25821079]{display:block;width:%?50?%;height:%?50?%;border-radius:100px}.goods-section .name[data-v-25821079]{font-size:%?30?%;color:#606266;margin-left:%?24?%}.goods-section .g-item[data-v-25821079]{display:flex;margin:%?20?% %?30?%}.goods-section .g-item .image[data-v-25821079]{flex-shrink:0;display:block;width:%?240?%;height:%?240?%;border-radius:%?4?%}.goods-section .g-item .right[data-v-25821079]{flex:1;padding-left:%?24?%;overflow:hidden}.goods-section .g-item .title[data-v-25821079]{margin:%?40?% %?0?%;font-size:%?40?%;color:#303133}.goods-section .g-item .spec[data-v-25821079]{font-size:%?26?%;color:#909399}.goods-section .g-item .price-box[data-v-25821079]{display:flex;align-items:center;font-size:%?32?%;color:#303133;padding-top:%?10?%}.goods-section .g-item .price-box .price[data-v-25821079]{margin-bottom:%?4?%}.goods-section .g-item .price-box .number[data-v-25821079]{font-size:%?26?%;color:#606266;margin-left:%?20?%}.goods-section .g-item .step-box[data-v-25821079]{position:relative}.yt-list[data-v-25821079]{margin-top:%?16?%;background:#fff}.yt-list-cell[data-v-25821079]{display:flex;align-items:center;padding:%?10?% %?30?% %?10?% %?40?%;line-height:%?70?%;position:relative}.yt-list-cell.cell-hover[data-v-25821079]{background:#fafafa}.yt-list-cell.b-b[data-v-25821079]:after{left:%?30?%}.yt-list-cell .cell-icon[data-v-25821079]{height:%?32?%;width:%?32?%;font-size:%?22?%;color:#fff;text-align:center;line-height:%?32?%;background:#f85e52;border-radius:%?4?%;margin-right:%?12?%}.yt-list-cell .cell-icon.hb[data-v-25821079]{background:#ffaa0e}.yt-list-cell .cell-icon.lpk[data-v-25821079]{background:#3ab54a}.yt-list-cell .cell-more[data-v-25821079]{align-self:center;font-size:%?24?%;color:#909399;margin-left:%?8?%;margin-right:%?-10?%}.yt-list-cell .cell-tit[data-v-25821079]{flex:1;font-size:%?26?%;color:#909399;margin-right:%?10?%}.yt-list-cell .cell-tip[data-v-25821079]{font-size:%?26?%;color:#303133}.yt-list-cell .cell-tip.disabled[data-v-25821079]{color:#909399}.yt-list-cell .cell-tip.active[data-v-25821079]{color:#fa436a}.yt-list-cell .cell-tip.red[data-v-25821079]{color:#fa436a}.yt-list-cell.desc-cell .cell-tit[data-v-25821079]{max-width:%?150?%}.yt-list-cell .desc[data-v-25821079]{flex:1;font-size:%?28?%;color:#303133}\n/* 支付列表 */.pay-list[data-v-25821079]{padding-left:%?40?%;margin-top:%?16?%;background:#fff}.pay-list .pay-item[data-v-25821079]{display:flex;align-items:center;padding-right:%?20?%;line-height:1;height:%?110?%;position:relative}.pay-list .icon-weixinzhifu[data-v-25821079]{width:%?80?%;font-size:%?40?%;color:#6bcc03}.pay-list .icon-alipay[data-v-25821079]{width:%?80?%;font-size:%?40?%;color:#06b4fd}.pay-list .icon-xuanzhong2[data-v-25821079]{display:flex;align-items:center;justify-content:center;width:%?60?%;height:%?60?%;font-size:%?40?%;color:#fa436a}.pay-list .tit[data-v-25821079]{font-size:%?32?%;color:#303133;flex:1}.footer[data-v-25821079]{position:fixed;left:0;bottom:0;z-index:995;display:flex;align-items:center;width:100%;height:%?90?%;justify-content:space-between;font-size:%?30?%;background-color:#fff;z-index:998;color:#606266;box-shadow:0 -1px 5px rgba(0,0,0,.1)}.footer .price-content[data-v-25821079]{padding-left:%?30?%}.footer .price-tip[data-v-25821079]{color:#fa436a;margin-left:%?8?%}.footer .price[data-v-25821079]{font-size:%?36?%;color:#fa436a}.footer .submit[data-v-25821079]{display:flex;align-items:center;justify-content:center;width:%?280?%;height:100%;color:#fff;font-size:%?32?%;background-color:#fa436a}\n/* 优惠券面板 */.mask[data-v-25821079]{display:flex;align-items:flex-end;position:fixed;left:0;top:var(--window-top);bottom:0;width:100%;background:transparent;z-index:9995;transition:.3s}.mask .mask-content[data-v-25821079]{width:100%;min-height:30vh;max-height:70vh;background:#f3f3f3;-webkit-transform:translateY(100%);transform:translateY(100%);transition:.3s;overflow-y:scroll}.mask.none[data-v-25821079]{display:none}.mask.show[data-v-25821079]{background:rgba(0,0,0,.4)}.mask.show .mask-content[data-v-25821079]{-webkit-transform:translateY(0);transform:translateY(0)}\n/* 优惠券列表 */.coupon-item[data-v-25821079]{display:flex;flex-direction:column;margin:%?20?% %?24?%;background:#fff}.coupon-item .con[data-v-25821079]{display:flex;align-items:center;position:relative;height:%?120?%;padding:0 %?30?%}.coupon-item .con[data-v-25821079]:after{position:absolute;left:0;bottom:0;content:"";width:100%;height:0;border-bottom:1px dashed #f3f3f3;-webkit-transform:scaleY(50%);transform:scaleY(50%)}.coupon-item .left[data-v-25821079]{display:flex;flex-direction:column;justify-content:center;flex:1;overflow:hidden;height:%?100?%}.coupon-item .title[data-v-25821079]{font-size:%?32?%;color:#303133;margin-bottom:%?10?%}.coupon-item .time[data-v-25821079]{font-size:%?24?%;color:#909399}.coupon-item .right[data-v-25821079]{display:flex;flex-direction:column;justify-content:center;align-items:center;font-size:%?26?%;color:#606266;height:%?100?%}.coupon-item .price[data-v-25821079]{font-size:%?44?%;color:#fa436a}.coupon-item .price[data-v-25821079]:before{content:"￥";font-size:%?34?%}.coupon-item .tips[data-v-25821079]{font-size:%?24?%;color:#909399;line-height:%?60?%;padding-left:%?30?%}.coupon-item .circle[data-v-25821079]{position:absolute;left:%?-6?%;bottom:%?-10?%;z-index:10;width:%?20?%;height:%?20?%;background:#f3f3f3;border-radius:100px}.coupon-item .circle.r[data-v-25821079]{left:auto;right:%?-6?%}',""]),t.exports=e},7355:function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return o})),a.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",[a("v-uni-view",{staticClass:"goods-section"},[a("v-uni-view",{staticClass:"g-item"},[a("img",{staticClass:"image",attrs:{src:t.work_image_src}}),a("v-uni-view",{staticClass:"right"},[a("v-uni-text",{staticClass:"title clamp"},[t._v(t._s(t.forkInfo.work_name))]),a("v-uni-text",{staticClass:"spec"},[t._v("FORKID："+t._s(t.forkInfo.FORKID?t.forkInfo.FORKID:t.forkInfo.obj_id))]),a("v-uni-view",{staticClass:"price-box"},[a("v-uni-text",{staticClass:"price"},[t._v("￥"+t._s(t.forkInfo.rmb_price))]),a("v-uni-text",{staticClass:"number"},[t._v("x 1")])],1)],1)],1)],1),a("v-uni-view",{staticClass:"yt-list"},[a("v-uni-view",{staticClass:"yt-list-cell desc-cell"},[a("v-uni-text",{staticClass:"cell-tit clamp"},[t._v("福刻评语")]),a("v-uni-input",{staticClass:"desc",attrs:{type:"text",placeholder:"请填写福刻信息","placeholder-class":"placeholder"},model:{value:t.desc,callback:function(e){t.desc=e},expression:"desc"}})],1)],1),a("v-uni-view",{staticClass:"footer"},[a("v-uni-view",{staticClass:"price-content"},[a("v-uni-text",[t._v("实付款")]),a("v-uni-text",{staticClass:"price-tip"},[t._v("￥")]),a("v-uni-text",{staticClass:"price"},[t._v(t._s(t.forkInfo.rmb_price))])],1),a("v-uni-text",{staticClass:"submit",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.submit.apply(void 0,arguments)}}},[t._v("提交订单")])],1)],1)},o=[]},af05:function(t,e,a){"use strict";a("7a82");var i=a("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("d3b7"),a("e9c4");var o=i(a("c7eb")),n=i(a("3835")),r=i(a("1da1")),s=i(a("5530")),c=a("26cb"),l={data:function(){return{forkInfo:{},desc:"创意不错，支持!",maskState:0,payType:1,work_image_src:"",couponList:[{title:"新用户专享优惠券",price:5},{title:"庆五一发一波优惠券",price:10},{title:"优惠券优惠券优惠券优惠券",price:15}]}},onLoad:function(t){var e=t.id;e&&this.loadForkData(e)},computed:(0,s.default)({},(0,c.mapState)(["hasLogin","userInfo"])),methods:{loadForkData:function(t){var e=this;return(0,r.default)((0,o.default)().mark((function a(){var i;return(0,o.default)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return i={obj_id:t},a.next=3,new Promise((function(t,a){uni.request({url:e.$baseUrl+"/obj/fork/queryNftInfo",method:"GET",data:i}).then(function(){var t=(0,r.default)((0,o.default)().mark((function t(a){var i,r,s;return(0,o.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(i=(0,n.default)(a,2),r=i[0],s=i[1],!r){t.next=3;break}return t.abrupt("return",console.log(r.errMsg));case 3:if(200===s.statusCode){t.next=5;break}return t.abrupt("return",console.log(s.data.msg));case 5:return e.forkInfo=s.data,t.next=8,imageDb.getDataByKey(e.forkInfo.work_image);case 8:e.work_image_src=t.sent,e.work_image_src=e.work_image_src?e.work_image_src.data:"";case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}));case 3:return a.abrupt("return",a.sent);case 4:case"end":return a.stop()}}),a)})))()},toggleMask:function(t){var e=this,a="show"===t?10:300,i="show"===t?1:0;this.maskState=2,setTimeout((function(){e.maskState=i}),a)},numberChange:function(t){this.number=t.number},changePayType:function(t){this.payType=t},submit:function(){var t=this;return(0,r.default)((0,o.default)().mark((function e(){var a;return(0,o.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.forkInfo.original_obj="",t.forkInfo.creatorInfo="",t.forkInfo.forkUserInfo="",a={user_id:t.userInfo.user_id,s_id:t.userInfo.s_id,goods:JSON.stringify([t.forkInfo]),note:t.desc,random:Math.random()},e.next=6,new Promise((function(e,i){uni.request({url:t.$baseUrl+"/fork/order/createOrder",method:"GET",data:a}).then((function(t){var e=(0,n.default)(t,2),a=e[0],i=e[1];if(a)return console.log(a.errMsg);if(200!==i.statusCode)return console.log(i.data.msg);console.log(i.data);var o=i.data.order_id;if(console.log("order_id:"+o),!i.data.ret)return console.log(i.data.msg);uni.navigateTo({url:"/pages/money/pay?id=".concat(o)})}))}));case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))()},stopPrevent:function(){}}};e.default=l},c537:function(t,e,a){"use strict";a.r(e);var i=a("af05"),o=a.n(i);for(var n in i)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(n);e["default"]=o.a},ed4c:function(t,e,a){"use strict";var i=a("0b08"),o=a.n(i);o.a},f3c5:function(t,e,a){"use strict";a.r(e);var i=a("7355"),o=a("c537");for(var n in o)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return o[t]}))}(n);a("ed4c");var r=a("f0c5"),s=Object(r["a"])(o["default"],i["b"],i["c"],!1,null,"25821079",null,!1,i["a"],void 0);e["default"]=s.exports}}]);