(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-public-changeSvrNode"],{"2a8d":function(t,e,n){var a=n("d01b");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=n("4f06").default;i("ade1091a",a,!0,{sourceMap:!1,shadowMode:!1})},"61d9":function(t,e,n){"use strict";var a=n("2a8d"),i=n.n(a);i.a},7933:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){}));var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"container"},[n("v-uni-view",{staticClass:"left-bottom-sign"}),n("v-uni-view",{staticClass:"back-btn yticon icon-zuojiantou-up",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.back.apply(void 0,arguments)}}}),n("v-uni-view",{staticClass:"right-top-sign"}),n("v-uni-view",{staticClass:"wrapper"},[n("v-uni-view",{staticClass:"left-top-sign"},[t._v("修改服务器（节点）")]),n("v-uni-view",{staticClass:"welcome"},[t._v("切换不同的服务器节点，需要重新注册或登录！")]),n("v-uni-view",{staticClass:"input-content"},[n("v-uni-view",{staticClass:"input-item"},[n("v-uni-text",{staticClass:"tit"},[t._v("节点名称")]),n("v-uni-input",{attrs:{type:"text",placeholder:"输入服务器节点名称",maxlength:"11","data-key":"mobile",list:"web3namesList"},model:{value:t.changetext,callback:function(e){t.changetext=e},expression:"changetext"}}),n("datalist",{attrs:{id:"web3namesList"}},t._l(t.web3names,(function(t,e){return n("option",{domProps:{value:t.web3name}})})),0),t._l(t.web3names,(function(e,a){return n("span",{on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.clickLabel(e.web3name)}}},[e.alive_status?n("font",{attrs:{color:"green"}},[t._v(t._s(e.web3name))]):n("font",{attrs:{color:"black"}},[t._v(t._s(e.web3name))])],1)}))],2)],1),n("v-uni-button",{staticClass:"confirm-btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.confirm.apply(void 0,arguments)}}},[t._v("确认切换")])],1)],1)},i=[]},"7a27":function(t,e,n){"use strict";n.r(e);var a=n("7933"),i=n("a33b");for(var o in i)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(o);n("61d9");var r=n("f0c5"),c=Object(r["a"])(i["default"],a["b"],a["c"],!1,null,"36c06454",null,!1,a["a"],void 0);e["default"]=c.exports},a33b:function(t,e,n){"use strict";n.r(e);var a=n("f946"),i=n.n(a);for(var o in a)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(o);e["default"]=i.a},d01b:function(t,e,n){var a=n("24fb");e=a(!1),e.push([t.i,'@charset "UTF-8";\n/* uni.scss */\n/* 页面左右间距 */\n/* 文字尺寸 */\n/*文字颜色*/\n/* 边框颜色 */\n/* 图片加载中颜色 */\n/* 行为相关颜色 */uni-page-body[data-v-36c06454]{background:#fff}body.?%PAGE?%[data-v-36c06454]{background:#fff}.container[data-v-36c06454]{padding-top:20px;position:relative;width:100vw;height:100vh;\n  /* overflow: hidden; */background:#fff}.wrapper[data-v-36c06454]{position:relative;z-index:90;background:#fff;padding-bottom:%?40?%}.back-btn[data-v-36c06454]{position:absolute;left:%?40?%;z-index:9999;padding-top:0;top:%?40?%;font-size:%?40?%;color:#303133}.left-top-sign[data-v-36c06454]{font-size:%?120?%;color:#f8f8f8;position:relative;left:%?-16?%}.right-top-sign[data-v-36c06454]{position:absolute;top:%?80?%;right:%?-30?%;z-index:95}.right-top-sign[data-v-36c06454]:before, .right-top-sign[data-v-36c06454]:after{display:block;content:"";width:%?400?%;height:%?80?%;background:#b4f3e2}.right-top-sign[data-v-36c06454]:before{-webkit-transform:rotate(50deg);transform:rotate(50deg);border-radius:0 50px 0 0}.right-top-sign[data-v-36c06454]:after{position:absolute;right:%?-198?%;top:0;-webkit-transform:rotate(-50deg);transform:rotate(-50deg);border-radius:50px 0 0 0\n  /* background: pink; */}.left-bottom-sign[data-v-36c06454]{position:absolute;left:%?-270?%;bottom:%?-320?%;border:%?100?% solid #d0d1fd;border-radius:50%;padding:%?180?%}.welcome[data-v-36c06454]{position:relative;left:%?50?%;top:%?-90?%;font-size:%?46?%;color:#555;text-shadow:1px 0 1px rgba(0,0,0,.3)}.input-content[data-v-36c06454]{padding:0 %?60?%}.input-item[data-v-36c06454]{display:inline-block;flex-direction:column;align-items:flex-start;justify-content:center;padding:0 %?30?%;background:#f8f6fc;height:%?180?%;border-radius:4px;margin-bottom:%?50?%}.input-item[data-v-36c06454]:last-child{margin-bottom:0}.input-item .tit[data-v-36c06454]{height:%?50?%;line-height:%?56?%;font-size:%?26?%;color:#606266}.input-item uni-input[data-v-36c06454]{height:%?60?%;font-size:%?30?%;color:#303133;width:100%}.input-item span[data-v-36c06454]{padding:3px;margin-right:10px;margin-top:15px}.confirm-btn[data-v-36c06454]{width:%?630?%;height:%?76?%;line-height:%?76?%;border-radius:50px;margin-top:%?70?%;background:#fa436a;color:#fff;font-size:%?32?%}.confirm-btn[data-v-36c06454]:after{border-radius:100px}.forget-section[data-v-36c06454]{font-size:%?26?%;color:#4399fc;text-align:center;margin-top:%?40?%}.register-section[data-v-36c06454]{position:absolute;left:0;bottom:%?50?%;width:100%;font-size:%?26?%;color:#606266;text-align:center}.register-section uni-text[data-v-36c06454]{color:#4399fc;margin-left:%?10?%}',""]),t.exports=e},f946:function(t,e,n){"use strict";n("7a82");var a=n("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("498a");var i=a(n("c7eb")),o=a(n("1da1")),r=a(n("5530")),c=n("26cb"),s={data:function(){return{filename:"",url:"",changetext:"",head:"",arr:[],logo:"",web3names:[]}},mounted:function(){},methods:(0,r.default)((0,r.default)({},(0,c.mapMutations)(["login"])),{},{devtools:function(){console.log("into devtools now:");var t=this,e=null;"undefined"!=typeof g_devtools_rpc?e=g_devtools_rpc.devtools_url:(e="devtools"+sign_util.newTXID().split("_")[1],window.g_devtools_rpc=new RTCClient(e+"::host"),g_devtools_rpc.init(),g_devtools_rpc.devtools_url=e,console.log("new-devtools-url:",e)),console.log("devtools-url:",e,g_devtools_rpc),t.$dialog.confirm({title:"远程调试[***]",message:"请使用pop-devtools进行远程调试<br/>调试URL："+e+"<br/>功能：1-日志（重点支持）;2-远程调试命令（暂无）;3-远程控制设备（暂无）;",messageAlign:"left"}).then((function(){try{navigator.clipboard.writeText(e),t.$api.msg("远程调试URL已复制",5e3)}catch(n){console.log("copy-exception:"+n),t.$api.msg("远程调试URL复制失败，原因（可能无复制权限）",5e3)}})).catch((function(){}))},back:function(){this.$router.go(-1)},confirm:function(){var t=this;return(0,o.default)((0,i.default)().mark((function e(){var n,a,o,r,c,s;return(0,i.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.changetext&&!(t.changetext.length<=0)){e.next=2;break}return e.abrupt("return",t.$api.msg("[Error]请输入正确的服务器节点ID（不能为空）"));case 2:if(t.changetext!=rpc_client.roomid){e.next=4;break}return e.abrupt("return",t.$api.msg("[Error]目标节点ID为-当前-服务器节点ID，没有发生改变！"));case 4:return t.changetext=t.changetext.trim(),n=window.localStorage,a=localStorage.getItem("dark_mode"),n.clear(),a&&localStorage.setItem("dark_mode",a),rpc_client.roomid,g_web3name=t.changetext,g_web3name,e.next=14,g_dtnsManager.connect("dtns://web3:"+t.changetext);case 14:if(o=e.sent,!o){e.next=20;break}window.rpc_client=o,console.log("new-rpc_client:",o),e.next=26;break;case 20:return console.log("[Error]use new rpc-client failed!"),t.$api.msg("切换RPCCLient失败"),e.next=24,rpc_client.sleep(1e3);case 24:return uni.navigateTo({url:"/pages/public/connect"}),e.abrupt("return");case 26:return localStorage.setItem("now_roomid",t.changetext),t.$api.msg("切换节点成功！"),e.next=30,iSessionDb.getDataByKey("session:"+t.changetext);case 30:if(r=e.sent,!r||!r.data){e.next=43;break}return c=r.data,t.$api.msg("登录成功",1e3),t.login(c),s=rpc_client.mywallet,console.log("new_mywallet:",s),s&&(iWalletDb.deleteDataByKey("g_mywallet"),iWalletDb.addData({key:"g_mywallet",data:s}),window.g_mywallet=s),e.next=40,rpc_client.sleep(30);case 40:uni.switchTab({url:"/pages/index/index"}),e.next=46;break;case 43:return e.next=45,rpc_client.sleep(30);case 45:uni.navigateTo({url:"/pages/public/connect"});case 46:case"end":return e.stop()}}),e)})))()},clickLabel:function(t){this.changetext=t}}),created:function(){var t=this;return(0,o.default)((0,i.default)().mark((function e(){var n,a;return(0,i.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.changetext=rpc_client.roomid;case 1:if(g_dtnsManager.web3apps){e.next=6;break}return e.next=4,rpc_client.sleep(100);case 4:e.next=1;break;case 6:return e.next=8,g_dtnsManager.queryIBAppListStatus();case 8:for(t.allIbappsStatus=e.sent,n=0;g_dtnsManager.web3apps&&n<g_dtnsManager.web3apps.length;n++)a=g_dtnsManager.web3apps[n],a.alive_status=t.allIbappsStatus["web3:"+a.web3name]||!1;"undefined"!=typeof g_dtnsManager&&(t.web3names=g_dtnsManager.web3apps),console.log("created-web3names:",t.web3names);case 12:case"end":return e.stop()}}),e)})))()}};e.default=s}}]);