(function(){var __webpack_modules__={1169:function(t,e,n){"use strict";n.d(e,{Z:function(){return h}});var o=function(){var t=this,e=t._self._c;return e("div",{on:{click:t.onClick,mouseenter:t.onMouseEnter,mouseup:t.doThis}},[t.config.component.startsWith("SVG")?e(t.config.component,{ref:"component",tag:"component",staticClass:"component",style:t.getSVGStyle(t.config.style),attrs:{"prop-value":t.config.propValue,element:t.config,request:t.config.request,linkage:t.config.linkage}}):e(t.config.component,{ref:"component",tag:"component",staticClass:"component",style:t.getStyle(t.config.style),attrs:{"prop-value":t.config.propValue,element:t.config,request:t.config.request,linkage:t.config.linkage}})],1)},a=[],i=n(9748),s=n(3229),r=n(6683),l=n(4003),c=(n(7532),n(1354),n(2153),n(8214),n(7191),{mixins:[r.tA],props:{config:{type:Object,required:!0,default:()=>{}}},beforeCreate(){},created(){},beforeMount(){this.poplang=new PopRuntime(this.config),this.config.poplang=this.poplang;const t=localStorage.getItem("protocol_config");t?(this.poplang.setProtocol(JSON.parse(t)),this.isok="ok"):this.isok=!1},async mounted(){try{(0,s.Z)(this.$refs.component.$el,this.config.animations)}catch(e){console.log("runAnimation-ex:"+e)}const t=this.config.events;Object.keys(t).forEach((t=>{}))},beforeUpdate(){},updated(){},beforeDestroy(){},destroyed(){},methods:{getStyle:i.C2,getSVGStyle:i.WF,doThis(t){console.log("Editor/ComponeentWrapper.vue-doThis:"+JSON.stringify(t))},async onClick(){const t=this.config.events;Object.keys(t).forEach((e=>{this[e](t[e])})),console.log("this.config.id:"+this.config.id),l.Z.$emit("v-click",this.config.id)},onCode(){},onMouseEnter(){l.Z.$emit("v-hover",this.config.id)}}}),u=c,p=n(1001),d=(0,p.Z)(u,o,a,!1,null,"97787a68",null),h=d.exports},6845:function(t,e,n){"use strict";n.d(e,{$Z:function(){return a},zH:function(){return o}});const o={rotate:0,opacity:1},a={animations:[],events:{},groupStyle:{},isLock:!1,collapseName:"",linkage:{duration:0,data:[{id:"",label:"",event:"",style:[{key:"",value:""}]}]}},i=[{component:"VText",label:"文字",propValue:"双击编辑文字",icon:"wenben",request:{method:"GET",data:[],url:"",series:!1,time:1e3,paramType:"",requestCount:0},style:{width:200,height:28,fontSize:"",fontWeight:400,lineHeight:"",letterSpacing:0,textAlign:"",color:""}},{component:"VButton",label:"按钮",propValue:"按钮",icon:"button",style:{width:100,height:34,borderWidth:1,borderColor:"",borderRadius:"",fontSize:"",fontWeight:400,lineHeight:"",letterSpacing:0,textAlign:"",color:"",backgroundColor:""}},{component:"Picture",label:"图片",icon:"tupian",propValue:{url:"default",flip:{horizontal:!1,vertical:!1}},style:{width:300,height:200,borderRadius:""}},{component:"CAUTH",label:"认证",icon:"lock",propValue:{url:n(8572),url1:n(1845),flip:{horizontal:!1,vertical:!1}},style:{width:100,height:100,borderRadius:""}},{component:"RectShape",label:"矩形",propValue:"&nbsp;",icon:"juxing",style:{width:200,height:200,fontSize:"",fontWeight:400,lineHeight:"",letterSpacing:0,textAlign:"center",color:"",borderColor:"#000",borderWidth:1,backgroundColor:"",borderStyle:"solid",borderRadius:"",verticalAlign:"middle"}},{component:"LineShape",label:"直线",propValue:"",icon:"zhixian",style:{width:200,height:2,backgroundColor:"#000"}},{component:"CircleShape",label:"圆形",propValue:"&nbsp;",icon:"24gl-circle",style:{width:200,height:200,fontSize:"",fontWeight:400,lineHeight:"",letterSpacing:0,textAlign:"center",color:"",borderColor:"#000",borderWidth:1,backgroundColor:"",borderStyle:"solid",borderRadius:"",verticalAlign:"middle"}},{component:"SVGStar",label:"星形",icon:"kongwujiaoxing",propValue:"",style:{width:80,height:80,fontSize:"",fontWeight:400,lineHeight:"",letterSpacing:0,textAlign:"center",color:"",borderColor:"#000",backgroundColor:"rgba(255, 255, 255, 1)"}},{component:"SVGTriangle",label:"三角形",icon:"xingzhuang-sanjiaoxing",propValue:"",style:{width:80,height:80,fontSize:"",fontWeight:400,lineHeight:"",letterSpacing:0,textAlign:"center",color:"",borderColor:"#000",backgroundColor:"rgba(255, 255, 255, 1)"}},{component:"VTable",label:"表格",icon:"biaoge",propValue:{data:[["表头1","表头2","表头3"],["内容1","内容2","内容3"]],stripe:!0,thBold:!0},request:{method:"GET",data:[],url:"",series:!1,time:1e3,paramType:"",requestCount:0},style:{width:600,height:200,fontSize:"",fontWeight:400,textAlign:"center",color:"",backgroundColor:"rgba(255, 255, 255, 1)"}},{component:"Upload",label:"上传",icon:"upload",propValue:"",style:{width:600,height:200,fontSize:"",fontWeight:400,textAlign:"left",color:"",backgroundColor:"rgba(255, 255, 255, 1)"}},{component:"CForm",label:"表单",icon:"zuhe",propValue:"",style:{width:500,height:400,fontSize:"",fontWeight:400,textAlign:"left",color:"",backgroundColor:"rgba(255, 255, 255, 1)"}},{component:"CPop",label:"POP",icon:"lock",propValue:"",style:{width:100,height:100,fontSize:"",fontWeight:400,textAlign:"left",color:"",backgroundColor:"rgba(255, 255, 255, 1)"}},{component:"Group",label:"group",icon:"zuhe",propValue:"",style:{width:100,height:100,fontSize:"",fontWeight:400,textAlign:"left",color:"",backgroundColor:"rgba(255, 255, 255, 1)"}}];for(let s=0,r=i.length;s<r;s++){const t=i[s];t.style={...o,...t.style},i[s]={...a,...t}}e["ZP"]=i},7897:function(t,e,n){"use strict";var o=n(144),a=n(4720),i=n.n(a),s=function(){var t=this,e=t._self._c;return e("router-view")},r=[],l=n(1001),c={},u=(0,l.Z)(c,s,r,!1,null,null,null),p=u.exports,d=n(1637),h=n(8345),m=function(){var t=this,e=t._self._c;return e("div",{staticClass:"box"},[e("div",{staticStyle:{position:"fixed",right:"0px",margin:"5px","font-size":"15px"},on:{click:t.refresh}},[t._v("重新登录")]),e("div",{staticClass:"logo",staticStyle:{"text-align":"center","padding-left":"15px","margin-top":"20px","font-size":"24px"}},[e("img",{staticStyle:{border:"2px solid #e0e0e0","margin-bottom":"18px"},attrs:{src:t.imgUrl,width:"117px",height:"85px"}}),e("br"),t._v(" 连接DTNS.network ")]),e("div",{staticStyle:{"text-align":"left","padding-left":"15px","margin-top":"20px","font-size":"13px"}},[t._v("设备："+t._s(t.deviceInfo))]),e("div",{staticStyle:{"text-align":"left","padding-left":"15px","margin-top":"20px","font-size":"13px"}},[t._v("公钥："+t._s(t.public_key))]),e("div",{staticStyle:{"text-align":"left","padding-left":"15px","margin-top":"20px","font-size":"13px"}},[t._v("签名："+t._s(t.sign))]),e("div",{staticStyle:{"text-align":"left","padding-left":"15px","margin-top":"20px","font-size":"13px","-moz-user-select":"text","-webkit-user-select":"text","user-select":"text"}},[t._v("汇总："+t._s(t.copyData))]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.notPhone,expression:"notPhone"}],staticStyle:{"text-align":"left","padding-left":"15px","margin-top":"20px","font-size":"13px"}},[t._v(" 请使用手机扫一扫复制内容，发送至手机号码："+t._s(t.phone)+" "),e("div",{staticStyle:{"text-align":"center",width:"100%",height:"213px",margin:"0 auto","background-color":"#fff"}},[e("img",{staticStyle:{"margin-top":"24px"},attrs:{src:t.url,alt:"",height:"165px",width:"165px"},on:{click:t.copy}}),e("br"),t._v(" 注意：点击图片可复制短信内容 ")])]),e("div",{staticStyle:{"text-align":"center"}},[e("el-button",{staticClass:"add-btn",staticStyle:{width:"95%","border-radius":"5px","font-size":"16px","background-color":"#15a0e7","margin-top":"15px",border:"none"},attrs:{type:"primary"},on:{click:t.connect}},[t._v("连接DTNS（发送汇总）")]),e("br"),e("el-button",{directives:[{name:"show",rawName:"v-show",value:!0,expression:"true"}],staticStyle:{width:"95%","border-radius":"5px","font-size":"16px","background-color":"#15a0e7","margin-top":"15px",border:"none"},attrs:{type:"primary"},on:{click:t.ok}},[t._v("确认已发送（短信）")]),e("br"),e("el-button",{staticStyle:{width:"95%","border-radius":"5px","font-size":"16px","margin-top":"15px",border:"none"},on:{click:t.change}},[t._v("切换节点")])],1)])},f=[],g=n.p+"img/connect-mini.08fe796f.jpg",y={data(){return{public_key:"",private_key:"",sign:"",keyPair:null,deviceInfo:"",copyData:"",smsUrl:"",url:"",phones:[],phone:"",notPhone:!1,imgUrl:g}},async mounted(){await this.connectInfo()},async activated(){},methods:{async refresh(){let t=rpc_client.roomid,e=await iSessionDb.getDataByKey("session:"+t);if(e&&e.data){let t=e.data;{localStorage.setItem("user_name",t.user_name),localStorage.setItem("user_id",t.user_id),localStorage.setItem("s_id",t.s_id),localStorage.setItem("type",t.type),localStorage.setItem("phone",t.phone),localStorage.setItem("logo",t.logo),this.$message("登录成功",1e3);let e=rpc_client.mywallet;console.log("new_mywallet:",e),e&&(iWalletDb.deleteDataByKey("g_mywallet"),iWalletDb.addData({key:"g_mywallet",data:e}),window.g_mywallet=rpc_client.mywallet),await rpc_client.sleep(30),this.$router.push("/index")}}else this.$message("登录失败，原因：会话session不存在",2e3)},async ok(t=!1){let e=this;"yes"==t?(window.g_mywallet=null,rpc_client.setWallet(g_mywallet),window.g_mywallet=rpc_client.mywallet):(window.g_mywallet={private_key:this.private_key,public_key:this.public_key,web3name:rpc_client.roomid},rpc_client.setWallet(g_mywallet)),console.log("connect-ok() -> xflag",t,"g_mywallet:",g_mywallet);let n=!0;rpc_client.init();let o=0;while(o<30&&!rpc_client.pingpong_flag)o++,o%10==0&&e.$message("连接服务节点重试中",2e3),await rpc_client.sleep(100);if(o>=30)return void e.$message("连接服务节点失败",2e3);let a=rpc_client.roomid?rpc_client.roomid:"dtns",i=parseInt(Date.now()/1e3),s=await key_util.hashVal(a+":"+i),r=await key_util.signMsg(s,rpc_client.mywallet.private_key),l=async function(t){let e="/user/device/login";return new Promise((n=>{rpc_client.send(e,t,null,(function(t){console.log("rdata:"+JSON.stringify(t)),n(t.data)})),setTimeout((()=>reject(null)),3e4)}))},c=await l({web3name:a,sign:r,timestamp:i});console.log("ok->userLoginBySafeDevice-res:",c),c=c&&c.data?c.data:c,c.ret?(console.log("登录成功"),console.log("[ok]session:"+a+" save now:",c),localStorage.setItem("user_name",c.user_name),localStorage.setItem("user_id",c.user_id),localStorage.setItem("s_id",c.s_id),localStorage.setItem("type",c.type),localStorage.setItem("phone",c.phone),localStorage.setItem("logo",c.logo),e.$message({duration:2e3,message:"登录成功,已经为你跳转首页!",type:"success"}),iSessionDb.deleteDataByKey("session:"+a),iSessionDb.addData({key:"session:"+a,data:c}),iSessionDb.addData({key:"session:"+a+":"+Date.now(),data:c}),window.g_mywallet=rpc_client.mywallet,iWalletDb.deleteDataByKey("g_mywallet"),iWalletDb.addData({key:"g_mywallet",data:rpc_client.mywallet}),iWalletDb.addData({key:"g_mywallet:"+Date.now(),data:rpc_client.mywallet}),iWalletDb.deleteDataByKey("mywallet:"+a),iWalletDb.addData({key:"mywallet:"+a,data:rpc_client.mywallet}),iWalletDb.addData({key:"mywallet:"+a+":"+Date.now(),data:rpc_client.mywallet}),setTimeout((function(){e.$router.push("/index")}),200),n=!1):e.$message("登录失败！原因：DTNS.network数据未同步",2e3)},copy(){try{navigator.clipboard.writeText(this.copyData),console.log("短信内容已复制"),this.$message("短信内容已复制",5e3)}catch(t){console.log("copy-exception:"+t),this.$message("短信内容复制失败，原因（可能无权限）",5e3)}},async connectInfo(){this.notPhone="mobile"!=device.type,this.deviceInfo=device.os+"-"+device.type+"("+Math.floor((new Date).getTime()/1e3).toString(36)+")",this.keyPair=eccryptoJS.generateKeyPair(),this.private_key=bs58.encode(this.keyPair.privateKey),this.public_key=bs58.encode(eccryptoJS.getPublicCompressed(this.keyPair.privateKey));const t=eccryptoJS.utf8ToBuffer(this.deviceInfo);let e=await eccryptoJS.sha256(t);this.sign=bs58.encode(await eccryptoJS.sign(this.keyPair.privateKey,e,!0));let n="|";if(this.copyData=n+this.sign+n+this.public_key.substring(this.public_key.length-4,this.public_key.length)+n+this.deviceInfo+n+rpc_client.roomid+n,console.log("copyData:"+this.copyData),this.phones=null,"undefined"!=typeof g_axios&&rpc_client.web3appInfo&&rpc_client.web3appInfo.network_info&&rpc_client.web3appInfo.network_info.phones_urls&&rpc_client.web3appInfo.network_info.phones_urls.length>0){let t=rpc_client.web3appInfo.network_info.phones_urls[parseInt(1599999*Math.random())%rpc_client.web3appInfo.network_info.phones_urls.length],e=await g_axios.get(t);this.phones=e&&e.data?e.data:e,console.log("phonesUrl:",t,e)}else this.phones=await g_axios.get("undefined"!=typeof g_phones_default_url?g_phones_default_url:"https://static.yunapi.org/phones.json");if(console.log("phones:",this.phones),this.phones=this.phones&&this.phones.data?this.phones.data:this.phones,!this.phones||this.phones.length<=0)return void this.$message("无法获取connect-url（原因：上行通道的手机号码列表为空）",5e3);this.phone=this.phones[parseInt(Math.floor(199999999*Math.random()))%this.phones.length];let o="sms:"+this.phone+"?"+this.copyData;console.log("connect-url:"+o),this.smsUrl=o;let a=this;QRCode.toDataURL(this.copyData).then((t=>{a.url=t})).catch((t=>{console.error(t)}))},change(){this.$router.push("/changeSvrNode")},async connect(){if(!this.phones||this.phones.length<=0)return void this.$message("无法获取connect-url（原因：上行通道的手机号码列表为空）",5e3);var t=document.createElement("a");t.setAttribute("href",this.smsUrl),t.setAttribute("target","_blank");let e=document.createEvent("MouseEvents");e.initEvent("click",!0,!0),t.dispatchEvent(e)}}},v=y,_=(0,l.Z)(v,m,f,!1,null,"4548fdb2",null),b=_.exports,w=function(){var t=this,e=t._self._c;return e("div",{staticClass:"login-vue",style:t.bg},[e("div",{staticClass:"container"},[e("p",{staticClass:"title"},[t._v("修改服务器（节点）")]),t._m(0),e("div",{staticClass:"center"},[e("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",staticStyle:{width:"80%"},attrs:{"hide-required-asterisk":"","status-icon":""},nativeOn:{submit:function(t){t.preventDefault()}}},[e("el-form-item",{attrs:{prop:"phone"}},[e("el-input",{attrs:{placeholder:"输入服务器节点名称",clearable:"",list:"web3namesList"},model:{value:t.changetext,callback:function(e){t.changetext=e},expression:"changetext"}},[e("i",{staticClass:"el-icon-lock",attrs:{slot:"prefix"},slot:"prefix"})]),e("datalist",{attrs:{id:"web3namesList"}},t._l(t.web3names,(function(t,n){return e("option",{domProps:{value:t.web3name}})})),0),t._l(t.web3names,(function(n,o){return e("span",{staticStyle:{padding:"3px","margin-right":"10px"},on:{click:function(e){return t.clickLabel(n.web3name)}}},[n.alive_status?e("font",{attrs:{color:"green"}},[t._v(t._s(n.web3name))]):e("font",{attrs:{color:"black"}},[t._v(t._s(n.web3name))])],1)}))],2),e("el-form-item",[e("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary"},on:{click:t.confirm}},[t._v("确认切换")])],1)],1)],1)])])},S=[function(){var t=this,e=t._self._c;return e("div",{staticStyle:{"text-align":"center",color:"white"}},[e("span",[t._v("切换不同的服务器节点，需要重新注册或登录！")])])}],C={data(){return{filename:"",url:"",changetext:"",head:"",arr:[],logo:"",bg:{},web3names:[]}},mounted(){},created(){this.bg.backgroundImage="url("+n(3110)+")"},methods:{devtools(){console.log("into devtools now:");let t=this,e=null;"undefined"!=typeof g_devtools_rpc?e=g_devtools_rpc.devtools_url:(e="devtools"+sign_util.newTXID().split("_")[1],window.g_devtools_rpc=new RTCClient(e+"::host"),g_devtools_rpc.init(),g_devtools_rpc.devtools_url=e,console.log("new-devtools-url:",e)),console.log("devtools-url:",e,g_devtools_rpc),t.$dialog.confirm({title:"远程调试[***]",message:"请使用pop-devtools进行远程调试<br/>调试URL："+e+"<br/>功能：1-日志（重点支持）;2-远程调试命令（暂无）;3-远程控制设备（暂无）;",messageAlign:"left"}).then((()=>{try{navigator.clipboard.writeText(e),t.$message("远程调试URL已复制",5e3)}catch(n){console.log("copy-exception:"+n),t.$message("远程调试URL复制失败，原因（可能无复制权限）",5e3)}})).catch((()=>{}))},back(){this.$router.go(-1)},async confirm(){if(!this.changetext||this.changetext.length<=0)return this.$message("[Error]请输入正确的服务器节点ID（不能为空）");if(this.changetext==rpc_client.roomid)return this.$message("[Error]目标节点ID为-当前-服务器节点ID，没有发生改变！");this.changetext=this.changetext.trim();let t=window.localStorage,e=localStorage.getItem("dark_mode");t.clear(),e&&localStorage.setItem("dark_mode",e);rpc_client.roomid;g_web3name=this.changetext;g_web3name;let n=await g_dtnsManager.connect("dtns://web3:"+this.changetext);if(!n)return console.log("[Error]use new rpc-client failed!"),this.$message("切换RPCCLient失败"),await rpc_client.sleep(1e3),void this.$router.push("/connect");window.rpc_client=n,console.log("new-rpc_client:",n),localStorage.setItem("now_roomid",this.changetext),this.$message.success("切换节点成功！");let o=await iSessionDb.getDataByKey("session:"+this.changetext);if(o&&o.data){let t=o.data;{localStorage.setItem("user_name",t.user_name),localStorage.setItem("user_id",t.user_id),localStorage.setItem("s_id",t.s_id),localStorage.setItem("type",t.type),localStorage.setItem("phone",t.phone),localStorage.setItem("logo",t.logo),this.$message.success("登录成功",1e3);let e=rpc_client.mywallet;console.log("new_mywallet:",e),e&&(iWalletDb.deleteDataByKey("g_mywallet"),iWalletDb.addData({key:"g_mywallet",data:e}),window.g_mywallet=rpc_client.mywallet),await rpc_client.sleep(30),this.$router.push("/index")}}else await rpc_client.sleep(30),this.$router.push("/connect")},clickLabel(t){this.changetext=t}},async created(){this.changetext=rpc_client.roomid;while(!g_dtnsManager.web3apps)await rpc_client.sleep(100);this.allIbappsStatus=await g_dtnsManager.queryIBAppListStatus();for(let t=0;g_dtnsManager.web3apps&&t<g_dtnsManager.web3apps.length;t++){let e=g_dtnsManager.web3apps[t];e.alive_status=this.allIbappsStatus["web3:"+e.web3name]||!1}"undefined"!=typeof g_dtnsManager&&(this.web3names=g_dtnsManager.web3apps),console.log("created-web3names:",this.web3names)}},x=C,k=(0,l.Z)(x,w,S,!1,null,"b1ab982e",null),D=k.exports,$=function(){var t=this,e=t._self._c;return e("div",{staticClass:"home"},[e("Toolbar"),e("main",[e("section",{staticClass:"left"},[e("ComponentList"),e("RealTimeComponentList")],1),e("section",{staticClass:"center"},[e("div",{staticClass:"content",on:{drop:t.handleDrop,dragover:t.handleDragOver,mousedown:t.handleMouseDown,mouseup:t.deselectCurComponent}},[e("Editor")],1)]),e("section",{staticClass:"right"},[t.curComponent?e("el-tabs",{model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[e("el-tab-pane",{attrs:{label:"属性",name:"attr"}},[e(t.curComponent.component+"Attr",{tag:"component"})],1),e("el-tab-pane",{staticStyle:{"padding-top":"20px"},attrs:{label:"动画",name:"animation"}},[e("AnimationList")],1),e("el-tab-pane",{staticStyle:{"padding-top":"20px"},attrs:{label:"事件",name:"events"}},[e("EventList")],1)],1):e("CanvasAttr")],1)])],1)},I=[],E=function(){var t=this,e=t._self._c;return e("div",{staticClass:"editor",class:{edit:t.isEdit},style:{...t.getCanvasStyle(t.canvasStyleData),width:t.changeStyleWithScale(t.canvasStyleData.width)+"px",height:t.changeStyleWithScale(t.canvasStyleData.height)+"px"},attrs:{id:"editor"},on:{contextmenu:t.handleContextMenu,mousedown:t.handleMouseDown}},[e("Grid"),t._l(t.componentData,(function(n,o){return e("Shape",{key:n.id,class:{lock:n.isLock},style:t.getShapeStyle(n.style),attrs:{"default-style":n.style,active:n.id===(t.curComponent||{}).id,element:n,index:o}},[n.component.startsWith("SVG")?e(n.component,{tag:"component",staticClass:"component",style:t.getSVGStyle(n.style),attrs:{id:"component"+n.id,"prop-value":n.propValue,element:n,request:n.request}}):"VText"!=n.component?e(n.component,{tag:"component",staticClass:"component",style:t.getComponentStyle(n.style),attrs:{id:"component"+n.id,"prop-value":n.propValue,element:n,request:n.request}}):e(n.component,{tag:"component",staticClass:"component",style:t.getComponentStyle(n.style),attrs:{id:"component"+n.id,"prop-value":n.propValue,element:n,request:n.request},on:{input:t.handleInput}})],1)})),e("ContextMenu"),e("MarkLine"),e("Area",{directives:[{name:"show",rawName:"v-show",value:t.isShowArea,expression:"isShowArea"}],attrs:{start:t.start,width:t.width,height:t.height}})],2)},L=[],M=(n(6699),n(629)),A=function(){var t=this,e=t._self._c;return e("div",{staticClass:"shape",class:{active:t.active},on:{click:t.selectCurComponent,mousedown:t.handleMouseDownOnShape}},[e("span",{directives:[{name:"show",rawName:"v-show",value:t.isActive(),expression:"isActive()"}],staticClass:"iconfont icon-xiangyouxuanzhuan",on:{mousedown:t.handleRotate}}),e("span",{directives:[{name:"show",rawName:"v-show",value:t.element.isLock,expression:"element.isLock"}],staticClass:"iconfont icon-suo"}),t._l(t.isActive()?t.getPointList():[],(function(n){return e("div",{key:n,staticClass:"shape-point",style:t.getPointStyle(n),on:{mousedown:function(e){return t.handleMouseDownOnPoint(n,e)}}})})),t._t("default")],2)},O=[],N=n(4003),P=n(3229),T=n(1457);const Z={lt:q,t:R,rt:V,r:U,rb:j,b:W,lb:z,l:B};function q(t,e,n,o,a){const{symmetricPoint:i}=a;let s=(0,T.Lb)(e,i),r=(0,T.Ej)(e,s,-t.rotate),l=(0,T.Ej)(i,s,-t.rotate),c=l.x-r.x,u=l.y-r.y;if(o){c/u>n?(r.x+=Math.abs(c-u*n),c=u*n):(r.y+=Math.abs(u-c/n),u=c/n);const e=(0,T.Ej)(r,s,t.rotate);s=(0,T.Lb)(e,i),r=(0,T.Ej)(e,s,-t.rotate),l=(0,T.Ej)(i,s,-t.rotate),c=l.x-r.x,u=l.y-r.y}c>0&&u>0&&(t.width=Math.round(c),t.height=Math.round(u),t.left=Math.round(r.x),t.top=Math.round(r.y))}function V(t,e,n,o,a){const{symmetricPoint:i}=a;let s=(0,T.Lb)(e,i),r=(0,T.Ej)(e,s,-t.rotate),l=(0,T.Ej)(i,s,-t.rotate),c=r.x-l.x,u=l.y-r.y;if(o){c/u>n?(r.x-=Math.abs(c-u*n),c=u*n):(r.y+=Math.abs(u-c/n),u=c/n);const e=(0,T.Ej)(r,s,t.rotate);s=(0,T.Lb)(e,i),r=(0,T.Ej)(e,s,-t.rotate),l=(0,T.Ej)(i,s,-t.rotate),c=r.x-l.x,u=l.y-r.y}c>0&&u>0&&(t.width=Math.round(c),t.height=Math.round(u),t.left=Math.round(l.x),t.top=Math.round(r.y))}function j(t,e,n,o,a){const{symmetricPoint:i}=a;let s=(0,T.Lb)(e,i),r=(0,T.Ej)(i,s,-t.rotate),l=(0,T.Ej)(e,s,-t.rotate),c=l.x-r.x,u=l.y-r.y;if(o){c/u>n?(l.x-=Math.abs(c-u*n),c=u*n):(l.y-=Math.abs(u-c/n),u=c/n);const e=(0,T.Ej)(l,s,t.rotate);s=(0,T.Lb)(e,i),r=(0,T.Ej)(i,s,-t.rotate),l=(0,T.Ej)(e,s,-t.rotate),c=l.x-r.x,u=l.y-r.y}c>0&&u>0&&(t.width=Math.round(c),t.height=Math.round(u),t.left=Math.round(r.x),t.top=Math.round(r.y))}function z(t,e,n,o,a){const{symmetricPoint:i}=a;let s=(0,T.Lb)(e,i),r=(0,T.Ej)(i,s,-t.rotate),l=(0,T.Ej)(e,s,-t.rotate),c=r.x-l.x,u=l.y-r.y;if(o){c/u>n?(l.x+=Math.abs(c-u*n),c=u*n):(l.y-=Math.abs(u-c/n),u=c/n);const e=(0,T.Ej)(l,s,t.rotate);s=(0,T.Lb)(e,i),r=(0,T.Ej)(i,s,-t.rotate),l=(0,T.Ej)(e,s,-t.rotate),c=r.x-l.x,u=l.y-r.y}c>0&&u>0&&(t.width=Math.round(c),t.height=Math.round(u),t.left=Math.round(l.x),t.top=Math.round(r.y))}function R(t,e,n,o,a){const{symmetricPoint:i,curPoint:s}=a,r=(0,T.Ej)(e,s,-t.rotate),l=(0,T.Ej)({x:s.x,y:r.y},s,t.rotate),c=Math.sqrt((l.x-i.x)**2+(l.y-i.y)**2),u={x:l.x-(l.x-i.x)/2,y:l.y+(i.y-l.y)/2};let p=t.width;o&&(p=c*n),t.width=p,t.height=Math.round(c),t.top=Math.round(u.y-c/2),t.left=Math.round(u.x-t.width/2)}function U(t,e,n,o,a){const{symmetricPoint:i,curPoint:s}=a,r=(0,T.Ej)(e,s,-t.rotate),l=(0,T.Ej)({x:r.x,y:s.y},s,t.rotate),c=Math.sqrt((l.x-i.x)**2+(l.y-i.y)**2),u={x:l.x-(l.x-i.x)/2,y:l.y+(i.y-l.y)/2};let p=t.height;o&&(p=c/n),t.height=p,t.width=Math.round(c),t.top=Math.round(u.y-t.height/2),t.left=Math.round(u.x-c/2)}function W(t,e,n,o,a){const{symmetricPoint:i,curPoint:s}=a,r=(0,T.Ej)(e,s,-t.rotate),l=(0,T.Ej)({x:s.x,y:r.y},s,t.rotate),c=Math.sqrt((l.x-i.x)**2+(l.y-i.y)**2),u={x:l.x-(l.x-i.x)/2,y:l.y+(i.y-l.y)/2};let p=t.width;o&&(p=c*n),t.width=p,t.height=Math.round(c),t.top=Math.round(u.y-c/2),t.left=Math.round(u.x-t.width/2)}function B(t,e,n,o,a){const{symmetricPoint:i,curPoint:s}=a,r=(0,T.Ej)(e,s,-t.rotate),l=(0,T.Ej)({x:r.x,y:s.y},s,t.rotate),c=Math.sqrt((l.x-i.x)**2+(l.y-i.y)**2),u={x:l.x-(l.x-i.x)/2,y:l.y+(i.y-l.y)/2};let p=t.height;o&&(p=c/n),t.height=p,t.width=Math.round(c),t.top=Math.round(u.y-t.height/2),t.left=Math.round(u.x-c/2)}function F(t,e,n,o,a,i){Z[t](e,n,o,a,i)}var G=n(2648),J={props:{active:{type:Boolean,default:!1},element:{required:!0,type:Object,default:()=>{}},defaultStyle:{required:!0,type:Object,default:()=>{}},index:{required:!0,type:[Number,String],default:0}},data(){return{pointList:["lt","t","rt","r","rb","b","lb","l"],pointList2:["r","l"],initialAngle:{lt:0,t:45,rt:90,r:135,rb:180,b:225,lb:270,l:315},angleToCursor:[{start:338,end:23,cursor:"nw"},{start:23,end:68,cursor:"n"},{start:68,end:113,cursor:"ne"},{start:113,end:158,cursor:"e"},{start:158,end:203,cursor:"se"},{start:203,end:248,cursor:"s"},{start:248,end:293,cursor:"sw"},{start:293,end:338,cursor:"w"}],cursors:{}}},computed:(0,M.rn)(["curComponent","editor"]),beforeMount(){this.poplang=new PopRuntime(this.element),this.element.poplang=this.poplang;const t=localStorage.getItem("protocol_config");t?(this.poplang.setProtocol(JSON.parse(t)),this.isok="ok"):this.isok=!1},mounted(){this.curComponent&&(this.cursors=this.getCursor()),N.Z.$on("runAnimation",(()=>{this.element==this.curComponent&&(0,P.Z)(this.$el,this.curComponent.animations)})),N.Z.$on("stopAnimation",(()=>{this.$el.classList.remove("animated","infinite")}))},methods:{getPointList(){return"line-shape"===this.element.component?this.pointList2:this.pointList},isActive(){return this.active&&!this.element.isLock},handleRotate(t){this.$store.commit("setClickComponentStatus",!0),t.preventDefault(),t.stopPropagation();const e={...this.defaultStyle},n=t.clientY,o=t.clientX,a=e.rotate,i=this.$el.getBoundingClientRect(),s=i.left+i.width/2,r=i.top+i.height/2,l=Math.atan2(n-r,o-s)/(Math.PI/180);let c=!1;const u=t=>{c=!0;const n=t.clientX,o=t.clientY,i=Math.atan2(o-r,n-s)/(Math.PI/180);e.rotate=a+i-l,this.$store.commit("setShapeStyle",e)},p=()=>{c&&this.$store.commit("recordSnapshot"),document.removeEventListener("mousemove",u),document.removeEventListener("mouseup",p),this.cursors=this.getCursor()};document.addEventListener("mousemove",u),document.addEventListener("mouseup",p)},getPointStyle(t){const{width:e,height:n}=this.defaultStyle,o=/t/.test(t),a=/b/.test(t),i=/l/.test(t),s=/r/.test(t);let r=0,l=0;2===t.length?(r=i?0:e,l=o?0:n):((o||a)&&(r=e/2,l=o?0:n),(i||s)&&(r=i?0:e,l=Math.floor(n/2)));const c={marginLeft:"-4px",marginTop:"-4px",left:`${r}px`,top:`${l}px`,cursor:this.cursors[t]};return c},getCursor(){const{angleToCursor:t,initialAngle:e,pointList:n,curComponent:o}=this,a=(0,T.KV)(o.style.rotate),i={};let s=-1;return n.forEach((n=>{const o=(0,T.KV)(e[n]+a),r=t.length;while(1){s=(s+1)%r;const e=t[s];if(o<23||o>=338)return void(i[n]="nw-resize");if(e.start<=o&&o<e.end)return void(i[n]=e.cursor+"-resize")}})),i},handleMouseDownOnShape(t){if(this.$store.commit("setInEditorStatus",!0),this.$store.commit("setClickComponentStatus",!0),(0,G.rc)(this.element.component)&&t.preventDefault(),t.stopPropagation(),this.$store.commit("setCurComponent",{component:this.element,index:this.index}),this.element.isLock)return;this.cursors=this.getCursor();const e={...this.defaultStyle},n=t.clientY,o=t.clientX,a=Number(e.top),i=Number(e.left);let s=!1;const r=t=>{s=!0;const r=t.clientX,l=t.clientY;e.top=l-n+a,e.left=r-o+i,this.$store.commit("setShapeStyle",e),this.$nextTick((()=>{N.Z.$emit("move",l-n>0,r-o>0)}))},l=()=>{s&&this.$store.commit("recordSnapshot"),N.Z.$emit("unmove"),document.removeEventListener("mousemove",r),document.removeEventListener("mouseup",l)};document.addEventListener("mousemove",r),document.addEventListener("mouseup",l)},selectCurComponent(t){t.stopPropagation(),t.preventDefault(),this.$store.commit("hideContextMenu")},handleMouseDownOnPoint(t,e){this.$store.commit("setInEditorStatus",!0),this.$store.commit("setClickComponentStatus",!0),e.stopPropagation(),e.preventDefault();const n={...this.defaultStyle},o=n.width/n.height,a={x:n.left+n.width/2,y:n.top+n.height/2},i=this.editor.getBoundingClientRect(),s=e.target.getBoundingClientRect(),r={x:Math.round(s.left-i.left+e.target.offsetWidth/2),y:Math.round(s.top-i.top+e.target.offsetHeight/2)},l={x:a.x-(r.x-a.x),y:a.y-(r.y-a.y)};let c=!1,u=!0;const p=this.isNeedLockProportion(),d=e=>{if(u)return void(u=!1);c=!0;const s={x:e.clientX-Math.round(i.left),y:e.clientY-Math.round(i.top)};F(t,n,s,o,p,{center:a,curPoint:r,symmetricPoint:l}),this.$store.commit("setShapeStyle",n)},h=()=>{document.removeEventListener("mousemove",d),document.removeEventListener("mouseup",h),c&&this.$store.commit("recordSnapshot")};document.addEventListener("mousemove",d),document.addEventListener("mouseup",h)},isNeedLockProportion(){if("Group"!=this.element.component)return!1;const t=[0,90,180,360];for(const e of this.element.propValue)if(!t.includes((0,T.KV)(parseInt(e.style.rotate))))return!0;return!1}}},Y=J,X=(0,l.Z)(Y,A,O,!1,null,"25d87388",null),H=X.exports,K=n(9748),Q=function(){var t=this,e=t._self._c;return e("div",{directives:[{name:"show",rawName:"v-show",value:t.menuShow,expression:"menuShow"}],staticClass:"contextmenu",style:{top:t.menuTop+"px",left:t.menuLeft+"px"}},[e("ul",{on:{mouseup:t.handleMouseUp}},[t.curComponent?[t.curComponent.isLock?e("li",{on:{click:t.unlock}},[t._v("解锁")]):[e("li",{on:{click:t.copy}},[t._v("复制")]),e("li",{on:{click:t.paste}},[t._v("粘贴")]),e("li",{on:{click:t.cut}},[t._v("剪切")]),e("li",{on:{click:t.deleteComponent}},[t._v("删除")]),e("li",{on:{click:t.lock}},[t._v("锁定")]),e("li",{on:{click:t.topComponent}},[t._v("置顶")]),e("li",{on:{click:t.bottomComponent}},[t._v("置底")]),e("li",{on:{click:t.upComponent}},[t._v("上移")]),e("li",{on:{click:t.downComponent}},[t._v("下移")])]]:e("li",{on:{click:t.paste}},[t._v("粘贴")])],2)])},tt=[],et={data(){return{copyData:null}},computed:(0,M.rn)(["menuTop","menuLeft","menuShow","curComponent"]),methods:{lock(){this.$store.commit("lock")},unlock(){this.$store.commit("unlock")},handleMouseUp(){this.$store.commit("setClickComponentStatus",!0)},cut(){this.$store.commit("cut")},copy(){this.$store.commit("copy")},paste(){this.$store.commit("paste",!0),this.$store.commit("recordSnapshot")},deleteComponent(){this.$store.commit("deleteComponent"),this.$store.commit("recordSnapshot")},upComponent(){this.$store.commit("upComponent"),this.$store.commit("recordSnapshot")},downComponent(){this.$store.commit("downComponent"),this.$store.commit("recordSnapshot")},topComponent(){this.$store.commit("topComponent"),this.$store.commit("recordSnapshot")},bottomComponent(){this.$store.commit("bottomComponent"),this.$store.commit("recordSnapshot")}}},nt=et,ot=(0,l.Z)(nt,Q,tt,!1,null,"ff223a58",null),at=ot.exports,it=function(){var t=this,e=t._self._c;return e("div",{staticClass:"mark-line"},t._l(t.lines,(function(n){return e("div",{directives:[{name:"show",rawName:"v-show",value:t.lineStatus[n]||!1,expression:"lineStatus[line] || false"}],key:n,ref:n,refInFor:!0,staticClass:"line",class:n.includes("x")?"xline":"yline"})})),0)},st=[],rt={data(){return{lines:["xt","xc","xb","yl","yc","yr"],diff:3,lineStatus:{xt:!1,xc:!1,xb:!1,yl:!1,yc:!1,yr:!1}}},computed:(0,M.rn)(["curComponent","componentData"]),mounted(){N.Z.$on("move",((t,e)=>{this.showLine(t,e)})),N.Z.$on("unmove",(()=>{this.hideLine()}))},methods:{hideLine(){Object.keys(this.lineStatus).forEach((t=>{this.lineStatus[t]=!1}))},showLine(t,e){const n=this.$refs,o=this.componentData,a=(0,K.fg)(this.curComponent.style),i=a.width/2,s=a.height/2;this.hideLine(),o.forEach((o=>{if(o==this.curComponent)return;const r=(0,K.fg)(o.style),{top:l,left:c,bottom:u,right:p}=r,d=r.width/2,h=r.height/2,m={top:[{isNearly:this.isNearly(a.top,l),lineNode:n.xt[0],line:"xt",dragShift:l,lineShift:l},{isNearly:this.isNearly(a.bottom,l),lineNode:n.xt[0],line:"xt",dragShift:l-a.height,lineShift:l},{isNearly:this.isNearly(a.top+s,l+h),lineNode:n.xc[0],line:"xc",dragShift:l+h-s,lineShift:l+h},{isNearly:this.isNearly(a.top,u),lineNode:n.xb[0],line:"xb",dragShift:u,lineShift:u},{isNearly:this.isNearly(a.bottom,u),lineNode:n.xb[0],line:"xb",dragShift:u-a.height,lineShift:u}],left:[{isNearly:this.isNearly(a.left,c),lineNode:n.yl[0],line:"yl",dragShift:c,lineShift:c},{isNearly:this.isNearly(a.right,c),lineNode:n.yl[0],line:"yl",dragShift:c-a.width,lineShift:c},{isNearly:this.isNearly(a.left+i,c+d),lineNode:n.yc[0],line:"yc",dragShift:c+d-i,lineShift:c+d},{isNearly:this.isNearly(a.left,p),lineNode:n.yr[0],line:"yr",dragShift:p,lineShift:p},{isNearly:this.isNearly(a.right,p),lineNode:n.yr[0],line:"yr",dragShift:p-a.width,lineShift:p}]},f=[],{rotate:g}=this.curComponent.style;Object.keys(m).forEach((t=>{m[t].forEach((e=>{e.isNearly&&(this.$store.commit("setShapeSingleStyle",{key:t,value:0!=g?this.translatecurComponentShift(t,e,a):e.dragShift}),e.lineNode.style[t]=`${e.lineShift}px`,f.push(e.line))}))})),f.length&&this.chooseTheTureLine(f,t,e)}))},translatecurComponentShift(t,e,n){const{width:o,height:a}=this.curComponent.style;return"top"==t?Math.round(e.dragShift-(a-n.height)/2):Math.round(e.dragShift-(o-n.width)/2)},chooseTheTureLine(t,e,n){n?t.includes("yr")?this.lineStatus.yr=!0:t.includes("yc")?this.lineStatus.yc=!0:t.includes("yl")&&(this.lineStatus.yl=!0):t.includes("yl")?this.lineStatus.yl=!0:t.includes("yc")?this.lineStatus.yc=!0:t.includes("yr")&&(this.lineStatus.yr=!0),e?t.includes("xb")?this.lineStatus.xb=!0:t.includes("xc")?this.lineStatus.xc=!0:t.includes("xt")&&(this.lineStatus.xt=!0):t.includes("xt")?this.lineStatus.xt=!0:t.includes("xc")?this.lineStatus.xc=!0:t.includes("xb")&&(this.lineStatus.xb=!0)},isNearly(t,e){return Math.abs(t-e)<=this.diff}}},lt=rt,ct=(0,l.Z)(lt,it,st,!1,null,"475239c0",null),ut=ct.exports,pt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"area",style:{left:t.start.x+"px",top:t.start.y+"px",width:t.width+"px",height:t.height+"px"}})},dt=[],ht={props:{start:{type:Object,default:()=>{}},width:{type:Number,default:0},height:{type:Number,default:0}}},mt=ht,ft=(0,l.Z)(mt,pt,dt,!1,null,"30e7b1c2",null),gt=ft.exports,yt=function(){var t=this,e=t._self._c;return e("svg",{staticClass:"grid",attrs:{width:"100%",height:"100%",xmlns:"http://www.w3.org/2000/svg"}},[e("defs",[e("pattern",{attrs:{id:"smallGrid",width:"7.236328125",height:"7.236328125",patternUnits:"userSpaceOnUse"}},[e("path",{attrs:{d:"M 7.236328125 0 L 0 0 0 7.236328125",fill:"none",stroke:"rgba(207, 207, 207, 0.3)","stroke-width":"1"}})]),e("pattern",{attrs:{id:"grid",width:"36.181640625",height:"36.181640625",patternUnits:"userSpaceOnUse"}},[e("rect",{attrs:{width:"36.181640625",height:"36.181640625",fill:"url(#smallGrid)"}}),e("path",{attrs:{d:"M 36.181640625 0 L 0 0 0 36.181640625",fill:"none",stroke:"rgba(186, 186, 186, 0.5)","stroke-width":"1"}})])]),e("rect",{attrs:{width:"100%",height:"100%",fill:"url(#grid)"}})])},vt=[],_t={},bt=(0,l.Z)(_t,yt,vt,!1,null,"39ef9482",null),wt=bt.exports,St={components:{Shape:H,ContextMenu:at,MarkLine:ut,Area:gt,Grid:wt},props:{isEdit:{type:Boolean,default:!0}},data(){return{editorX:0,editorY:0,start:{x:0,y:0},width:0,height:0,isShowArea:!1,svgFilterAttrs:["width","height","top","left","rotate"]}},computed:(0,M.rn)(["componentData","curComponent","canvasStyleData","editor"]),mounted(){this.$store.commit("getEditor"),N.Z.$on("hideArea",(()=>{this.hideArea()}))},methods:{getShapeStyle:K.B$,getCanvasStyle:K.$i,changeStyleWithScale:T.EY,handleMouseDown(t){this.curComponent&&!(0,G.rc)(this.curComponent.component)||t.preventDefault(),this.hideArea();const e=this.editor.getBoundingClientRect();this.editorX=e.x,this.editorY=e.y;const n=t.clientX,o=t.clientY;this.start.x=n-this.editorX,this.start.y=o-this.editorY,this.isShowArea=!0;const a=t=>{this.width=Math.abs(t.clientX-n),this.height=Math.abs(t.clientY-o),t.clientX<n&&(this.start.x=t.clientX-this.editorX),t.clientY<o&&(this.start.y=t.clientY-this.editorY)},i=t=>{document.removeEventListener("mousemove",a),document.removeEventListener("mouseup",i),t.clientX!=n||t.clientY!=o?this.createGroup():this.hideArea()};document.addEventListener("mousemove",a),document.addEventListener("mouseup",i)},hideArea(){this.isShowArea=0,this.width=0,this.height=0,this.$store.commit("setAreaData",{style:{left:0,top:0,width:0,height:0},components:[]})},createGroup(){const t=this.getSelectArea();if(t.length<=1)return void this.hideArea();let e=1/0,n=1/0,o=-1/0,a=-1/0;t.forEach((t=>{let i={};"Group"==t.component?t.propValue.forEach((t=>{const s=(0,G.$)(`#component${t.id}`).getBoundingClientRect();i.left=s.left-this.editorX,i.top=s.top-this.editorY,i.right=s.right-this.editorX,i.bottom=s.bottom-this.editorY,i.left<n&&(n=i.left),i.top<e&&(e=i.top),i.right>o&&(o=i.right),i.bottom>a&&(a=i.bottom)})):i=(0,K.fg)(t.style),i.left<n&&(n=i.left),i.top<e&&(e=i.top),i.right>o&&(o=i.right),i.bottom>a&&(a=i.bottom)})),this.start.x=n,this.start.y=e,this.width=o-n,this.height=a-e,this.$store.commit("setAreaData",{style:{left:n,top:e,width:this.width,height:this.height},components:t})},getSelectArea(){const t=[],{x:e,y:n}=this.start;return this.componentData.forEach((o=>{if(o.isLock)return;const{left:a,top:i,width:s,height:r}=(0,K.fg)(o.style);e<=a&&n<=i&&a+s<=e+this.width&&i+r<=n+this.height&&t.push(o)})),t},handleContextMenu(t){t.stopPropagation(),t.preventDefault();let e=t.target,n=t.offsetY,o=t.offsetX;while(e instanceof SVGElement)e=e.parentNode;while(!e.className.includes("editor"))o+=e.offsetLeft,n+=e.offsetTop,e=e.parentNode;this.$store.commit("showContextMenu",{top:n,left:o})},getComponentStyle(t){return(0,K.C2)(t,this.svgFilterAttrs)},getSVGStyle(t){return(0,K.WF)(t,this.svgFilterAttrs)},handleInput(t,e){this.$store.commit("setShapeStyle",{height:this.getTextareaHeight(t,e)})},getTextareaHeight(t,e){let{lineHeight:n,fontSize:o,height:a}=t.style;""===n&&(n=1.5);const i=(e.split("<br>").length-1)*n*(o||this.canvasStyleData.fontSize);return a>i?a:i}}},Ct=St,xt=(0,l.Z)(Ct,E,L,!1,null,"4409b43e",null),kt=xt.exports,Dt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"component-list",on:{dragstart:t.handleDragStart}},t._l(t.componentList,(function(t,n){return e("div",{key:n,staticClass:"list",attrs:{draggable:"","data-index":n}},[e("span",{staticClass:"iconfont",class:"icon-"+t.icon})])})),0)},$t=[],It=n(6845),Et={data(){return{componentList:It.ZP}},methods:{handleDragStart(t){t.dataTransfer.setData("index",t.target.dataset.index)}}},Lt=Et,Mt=(0,l.Z)(Lt,Dt,$t,!1,null,"dab766b8",null),At=Mt.exports,Ot=function(){var t=this,e=t._self._c;return e("div",{staticClass:"animation-list"},[e("div",{staticClass:"div-animation"},[e("el-button",{on:{click:function(e){t.isShowAnimation=!0}}},[t._v("添加动画")]),e("el-button",{on:{click:t.previewAnimate}},[t._v("预览动画")]),e("div",t._l(t.curComponent.animations,(function(n,o){return e("el-tag",{key:o,attrs:{closable:""},on:{close:function(e){return t.removeAnimation(o)}}},[t._v(" "+t._s(n.label)+" "),e("i",{staticClass:"cursor el-icon-setting",on:{click:function(e){return t.handleAnimationSetting(o)}}})])})),1)],1),e("Modal",{model:{value:t.isShowAnimation,callback:function(e){t.isShowAnimation=e},expression:"isShowAnimation"}},[e("el-tabs",{model:{value:t.animationActiveName,callback:function(e){t.animationActiveName=e},expression:"animationActiveName"}},t._l(t.animationClassData,(function(n){return e("el-tab-pane",{key:n.label,attrs:{label:n.label,name:n.label}},[e("el-scrollbar",{staticClass:"animate-container"},t._l(n.children,(function(n){return e("div",{key:n.value,ref:n.value,refInFor:!0,staticClass:"animate",on:{mouseenter:function(e){return t.runAnimation(n)},click:function(e){return t.addAnimation(n)}}},[e("div",[t._v(" "+t._s(n.label)+" ")])])})),0)],1)})),1)],1),t.isShowAnimationSetting?e("AnimationSettingModal",{attrs:{"cur-index":t.curIndex},on:{close:function(e){t.isShowAnimationSetting=!1}}}):t._e()],1)},Nt=[],Pt=function(){var t=this,e=t._self._c;return t.show?e("div",{staticClass:"modal-bg",on:{click:t.hide}},[e("div",{staticClass:"fadeInLeft animated modal",on:{click:t.stopPropagation}},[t._t("default")],2)]):t._e()},Tt=[],Zt={model:{prop:"show",event:"change"},props:{show:{type:Boolean,default:!1}},methods:{hide(){this.$emit("change")},stopPropagation(t){t.stopPropagation()}}},qt=Zt,Vt=(0,l.Z)(qt,Pt,Tt,!1,null,"057883e4",null),jt=Vt.exports;const zt=[{label:"进入",children:[{label:"渐显",value:"fadeIn"},{label:"向右进入",value:"fadeInLeft"},{label:"向左进入",value:"fadeInRight"},{label:"向上进入",value:"fadeInUp"},{label:"向下进入",value:"fadeInDown"},{label:"向右长距进入",value:"fadeInLeftBig"},{label:"向左长距进入",value:"fadeInRightBig"},{label:"向上长距进入",value:"fadeInUpBig"},{label:"向下长距进入",value:"fadeInDownBig"},{label:"旋转进入",value:"rotateIn"},{label:"左顺时针旋转",value:"rotateInDownLeft"},{label:"右逆时针旋转",value:"rotateInDownRight"},{label:"左逆时针旋转",value:"rotateInUpLeft"},{label:"右逆时针旋转",value:"rotateInUpRight"},{label:"弹入",value:"bounceIn"},{label:"向右弹入",value:"bounceInLeft"},{label:"向左弹入",value:"bounceInRight"},{label:"向上弹入",value:"bounceInUp"},{label:"向下弹入",value:"bounceInDown"},{label:"光速从右进入",value:"lightSpeedIn"},{label:"光速从右退出",value:"lightSpeedOut"},{label:"中心X轴旋转",value:"flipInX"},{label:"中心Y轴旋转",value:"flipInY"},{label:"左长半径旋转",value:"rollIn"},{label:"由小变大进入",value:"zoomIn"},{label:"左变大进入",value:"zoomInLeft"},{label:"右变大进入",value:"zoomInRight"},{label:"向上变大进入",value:"zoomInUp"},{label:"向下变大进入",value:"zoomInDown"},{label:"向右滑动展开",value:"slideInLeft"},{label:"向左滑动展开",value:"slideInRight"},{label:"向上滑动展开",value:"slideInUp"},{label:"向下滑动展开",value:"slideInDown"}]},{label:"强调",children:[{label:"弹跳",value:"bounce"},{label:"闪烁",value:"flash"},{label:"放大缩小",value:"pulse"},{label:"放大缩小弹簧",value:"rubberBand"},{label:"左右晃动",value:"headShake"},{label:"左右扇形摇摆",value:"swing"},{label:"放大晃动缩小",value:"tada"},{label:"扇形摇摆",value:"wobble"},{label:"左右上下晃动",value:"jello"},{label:"Y轴旋转",value:"flip"}]},{label:"退出",children:[{label:"渐隐",value:"fadeOut"},{label:"向左退出",value:"fadeOutLeft"},{label:"向右退出",value:"fadeOutRight"},{label:"向上退出",value:"fadeOutUp"},{label:"向下退出",value:"fadeOutDown"},{label:"向左长距退出",value:"fadeOutLeftBig"},{label:"向右长距退出",value:"fadeOutRightBig"},{label:"向上长距退出",value:"fadeOutUpBig"},{label:"向下长距退出",value:"fadeOutDownBig"},{label:"旋转退出",value:"rotateOut"},{label:"左顺时针旋转",value:"rotateOutDownLeft"},{label:"右逆时针旋转",value:"rotateOutDownRight"},{label:"左逆时针旋转",value:"rotateOutUpLeft"},{label:"右逆时针旋转",value:"rotateOutUpRight"},{label:"弹出",value:"bounceOut"},{label:"向左弹出",value:"bounceOutLeft"},{label:"向右弹出",value:"bounceOutRight"},{label:"向上弹出",value:"bounceOutUp"},{label:"向下弹出",value:"bounceOutDown"},{label:"中心X轴旋转",value:"flipOutX"},{label:"中心Y轴旋转",value:"flipOutY"},{label:"左长半径旋转",value:"rollOut"},{label:"由小变大退出",value:"zoomOut"},{label:"左变大退出",value:"zoomOutLeft"},{label:"右变大退出",value:"zoomOutRight"},{label:"向上变大退出",value:"zoomOutUp"},{label:"向下变大退出",value:"zoomOutDown"},{label:"向左滑动收起",value:"slideOutLeft"},{label:"向右滑动收起",value:"slideOutRight"},{label:"向上滑动收起",value:"slideOutUp"},{label:"向下滑动收起",value:"slideOutDown"}]}];zt.forEach((t=>{t.children.forEach((t=>{t.pending=!1,t.animationTime=1}))}));var Rt=zt,Ut=function(){var t=this,e=t._self._c;return e("el-dialog",{attrs:{title:`${t.config.label} 动画配置`,visible:t.centerDialogVisible,width:"30%",center:""},on:{close:t.handleCloseModal}},[e("div",{staticClass:"time"},[t._v(" 动画时长："),e("el-input-number",{attrs:{"controls-position":"right",min:.1,precision:2,step:.01},model:{value:t.config.animationTime,callback:function(e){t.$set(t.config,"animationTime",e)},expression:"config.animationTime"}})],1),e("div",{staticClass:"loop"},[t._v(" 是否循环："),e("el-switch",{attrs:{"active-text":"是","inactive-text":"否",disabled:t.isDisabled},model:{value:t.config.isLoop,callback:function(e){t.$set(t.config,"isLoop",e)},expression:"config.isLoop"}})],1),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:t.handleCloseModal}},[t._v("取 消")]),e("el-button",{attrs:{type:"primary"},on:{click:t.handleSaveSetting}},[t._v("确 定")])],1)])},Wt=[],Bt={name:"AnimationSettingModal",props:{curIndex:{type:Number,default:0}},data(){return{centerDialogVisible:!0,config:{}}},computed:{...(0,M.rn)(["curComponent"]),isDisabled(){return this.curComponent.animations.length>1}},created(){const{label:t,animationTime:e,isLoop:n=!1,value:o}=this.curComponent.animations[this.curIndex]||{};this.config={animationTime:e,label:t,isLoop:n,value:o}},methods:{handleCloseModal(){this.$emit("close")},handleSaveSetting(){const{isLoop:t}=this.config;this.$store.commit("alterAnimation",{index:this.curIndex,data:{animationTime:this.config.animationTime,isLoop:t}}),N.Z.$emit("stopAnimation"),this.handleCloseModal()}}},Ft=Bt,Gt=(0,l.Z)(Ft,Ut,Wt,!1,null,"043aa3fa",null),Jt=Gt.exports,Yt={components:{Modal:jt,AnimationSettingModal:Jt},data(){return{isShowAnimation:!1,hoverPreviewAnimate:"",animationActiveName:"进入",animationClassData:Rt,showAnimatePanel:!1,timer:null,isShowAnimationSetting:!1,curIndex:0}},computed:(0,M.rn)(["curComponent"]),methods:{addAnimation(t){this.$store.commit("addAnimation",t),this.isShowAnimation=!1},previewAnimate(){N.Z.$emit("runAnimation")},removeAnimation(t){this.$store.commit("removeAnimation",t),this.curComponent.animations.length||N.Z.$emit("stopAnimation")},handleAnimationSetting(t){this.isShowAnimationSetting=!0,this.curIndex=t},async runAnimation(t){t.pending||(t.pending=!0,await(0,P.Z)(this.$refs[t.value][0],[t]),setTimeout((()=>{t.pending=!1}),100))}}},Xt=Yt,Ht=(0,l.Z)(Xt,Ot,Nt,!1,null,null,null),Kt=Ht.exports,Qt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"event-list"},[e("div",{staticClass:"div-events"},[e("el-button",{on:{click:function(e){t.isShowEvent=!0}}},[t._v("添加事件")]),e("div",t._l(Object.keys(t.curComponent.events),(function(n){return e("el-tag",{key:n,attrs:{closable:""},on:{close:function(e){return t.removeEvent(n)}}},[t._v(" "+t._s(n)+" ")])})),1)],1),e("Modal",{model:{value:t.isShowEvent,callback:function(e){t.isShowEvent=e},expression:"isShowEvent"}},[e("el-tabs",{model:{value:t.eventActiveName,callback:function(e){t.eventActiveName=e},expression:"eventActiveName"}},t._l(t.eventList,(function(n){return e("el-tab-pane",{key:n.key,staticStyle:{padding:"0 20px"},attrs:{label:n.label,name:n.key}},["redirect"==n.key?e("el-input",{attrs:{type:"textarea",placeholder:"请输入完整的 URL"},nativeOn:{keydown:function(t){t.stopPropagation()}},model:{value:n.param,callback:function(e){t.$set(n,"param",e)},expression:"item.param"}}):t._e(),"alert"==n.key?e("el-input",{attrs:{type:"textarea",placeholder:"请输入要 alert 的内容"},nativeOn:{keydown:function(t){t.stopPropagation()}},model:{value:n.param,callback:function(e){t.$set(n,"param",e)},expression:"item.param"}}):t._e(),"code"==n.key?e("el-input",{attrs:{type:"textarea",placeholder:"请输入要 code 的内容"},nativeOn:{keydown:function(t){t.stopPropagation()}},model:{value:n.param,callback:function(e){t.$set(n,"param",e)},expression:"item.param"}}):t._e(),e("el-button",{staticStyle:{"margin-top":"20px"},on:{click:function(e){return t.addEvent(n.key,n.param)}}},[t._v("确定")])],1)})),1)],1)],1)},te=[],ee=n(6683),ne={components:{Modal:jt},data(){return{isShowEvent:!1,eventURL:"",eventActiveName:"redirect",eventList:ee.oQ}},computed:(0,M.rn)(["curComponent"]),methods:{addEvent(t,e){this.isShowEvent=!1,this.$store.commit("addEvent",{event:t,param:e}),"code"==t&&this.$store.commit("addCode",{event:t,param:e})},removeEvent(t){this.$store.commit("removeEvent",t),"code"==t&&this.$store.commit("removeCode",{event:t})}}},oe=ne,ae=(0,l.Z)(oe,Qt,te,!1,null,"9522af38",null),ie=ae.exports,se=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"toolbar"},[e("el-button",{on:{click:t.undo}},[t._v("撤消")]),e("el-button",{on:{click:t.redo}},[t._v("重做")]),e("label",{staticClass:"insert",attrs:{for:"input"}},[t._v(" 插入图片 "),e("input",{attrs:{id:"input",type:"file",hidden:""},on:{change:t.handleFileChange}})]),e("el-button",{staticStyle:{"margin-left":"10px"},on:{click:function(e){return t.preview(!1)}}},[t._v("预览")]),e("el-button",{on:{click:t.save}},[t._v("保存")]),e("el-button",{on:{click:t.store}},[t._v("归档")]),e("el-button",{on:{click:t.readStore}},[t._v("读档")]),e("el-button",{on:{click:t.sendXMSG}},[t._v("发送头榜")]),e("el-button",{on:{click:t.clearCanvas}},[t._v("清空画布")]),e("el-button",{attrs:{disabled:!t.areaData.components.length},on:{click:t.compose}},[t._v("组合")]),e("el-button",{attrs:{disabled:!t.curComponent||t.curComponent.isLock},on:{click:t.decompose}},[t._v(" 拆分 ")]),e("el-button",{attrs:{disabled:!t.curComponent||t.curComponent.isLock},on:{click:t.lock}},[t._v("锁定")]),e("el-button",{attrs:{disabled:!t.curComponent||!t.curComponent.isLock},on:{click:t.unlock}},[t._v("解锁")]),e("el-button",{on:{click:function(e){return t.preview(!0)}}},[t._v("截图")]),e("el-button",{on:{click:t.logout}},[t._v(t._s(t.loginStatus))]),e("div",{staticClass:"canvas-config"},[e("span",[t._v("画布大小")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.canvasStyleData.width,expression:"canvasStyleData.width"}],domProps:{value:t.canvasStyleData.width},on:{input:function(e){e.target.composing||t.$set(t.canvasStyleData,"width",e.target.value)}}}),e("span",[t._v("*")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.canvasStyleData.height,expression:"canvasStyleData.height"}],domProps:{value:t.canvasStyleData.height},on:{input:function(e){e.target.composing||t.$set(t.canvasStyleData,"height",e.target.value)}}})]),e("div",{staticClass:"canvas-config"},[e("span",[t._v("画布比例")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.scale,expression:"scale"}],domProps:{value:t.scale},on:{input:[function(e){e.target.composing||(t.scale=e.target.value)},t.handleScaleChange]}}),t._v(" % ")])],1),t.isShowPreview?e("Preview",{attrs:{"is-screenshot":t.isScreenshot},on:{close:t.handlePreviewChange}}):t._e()],1)},re=[],le=n(1840),ce=n(9330),ue=function(){var t=this,e=t._self._c;return e("div",{ref:"container",staticClass:"bg"},[t.isScreenshot?e("el-button",{staticClass:"close",on:{click:t.htmlToImage}},[t._v("确定")]):e("el-button",{staticClass:"close",on:{click:t.close}},[t._v("关闭")]),e("div",{staticClass:"canvas-container"},[e("div",{staticClass:"canvas",style:{...t.getCanvasStyle(t.canvasStyleData),width:t.changeStyleWithScale(t.canvasStyleData.width)+"px",height:t.changeStyleWithScale(t.canvasStyleData.height)+"px"}},t._l(t.copyData,(function(t,n){return e("ComponentWrapper",{key:n,attrs:{config:t}})})),1)])],1)},pe=[],de=n(1169),he=n(4842);var me={components:{ComponentWrapper:de.Z},props:{isScreenshot:{type:Boolean,default:!1}},data(){return{copyData:[]}},computed:(0,M.rn)(["componentData","canvasStyleData"]),beforeCreate(){console.log("canvasStyleData:"+JSON.stringify(this.canvasStyleData))},async created(){console.log("tmpJson:"+JSON.stringify((0,G.p$)(this.componentData))),this.$set(this,"copyData",(0,G.p$)(this.componentData)),console.log("this.config:"+JSON.stringify(this.canvasStyleData)),this.poplang=new PopRuntime({}),window.poplang=this.poplang;const t=localStorage.getItem("protocol_config");console.log("protocolCache:"+JSON.stringify(t)),t?(this.poplang.setProtocol(JSON.parse(t)),this.isok="ok"):this.isok=!1,await this.poplang.runScript(null,this.canvasStyleData.code,!0);let e=await this.poplang.op(null,"beforeCreate");console.log("beforeCreateRet:",e,"$ret:",this.poplang.context.$ret,this.poplang.context);for(let n=0;n<this.copyData.length;n++){let t=this.copyData[n];t.xdata={...this.poplang.context.$ret};for(let e=0;e<this.copyData.length;e++){let t=this.copyData[e];t.xdata={...this.poplang.context.$ret},t.poplang&&t.poplang.op(null,"init")}}this.poplang.op(null,"created")},beforeMount(){this.poplang.op(null,"beforeMount")},async activated(){let t=await this.poplang.op(null,"beforeCreate");console.log("onActivated-beforeCreateRet:",t,"$ret:",this.poplang.context.$ret,this.poplang.context)},async mounted(){let t=this,e=await t.poplang.op(null,"mounted");console.log("ret:"+JSON.stringify(e));let n=await this.poplang.op(null,"beforeCreate");console.log("onActivated-beforeCreateRet:",n,"$ret:",this.poplang.context.$ret,this.poplang.context)},beforeDestroy(){this.poplang.op(null,"beforeDestroy")},destroyed(){this.poplang.op(null,"destroyed")},methods:{getStyle:K.C2,getCanvasStyle:K.$i,changeStyleWithScale:T.EY,close(){this.$emit("close"),this.$router.go(-1)},async htmlToImage(){let t=this.$refs.container.querySelector(".canvas");const e=await(0,he.KR)(t);console.log("ele-info:"+t.style.width+","+t.style.height+"padding:"+t.style.padding),console.log("ele-info:"+t.style.width+","+t.style.height),(0,he.YM)(t,{fontEmbedCss:e}).then((t=>{const e=document.createElement("a");e.setAttribute("download","screenshot"),e.href=t,e.click()})).catch((t=>{console.error("oops, something went wrong!",t)})).finally(this.close),console.log("ele-info:"+t.style.width)}}},fe=me,ge=(0,l.Z)(fe,ue,pe,!1,null,"168be288",null),ye=ge.exports,ve=n(715),_e=n(3162),be={components:{Preview:ye},data(){return{isShowPreview:!1,needToChange:["top","left","width","height","fontSize"],scale:"100%",timer:null,isScreenshot:!1,loginStatus:"登录"}},computed:(0,M.rn)(["componentData","canvasStyleData","areaData","curComponent","curComponentIndex"]),created(){N.Z.$on("preview",this.preview),N.Z.$on("save",this.save),N.Z.$on("clearCanvas",this.clearCanvas),this.scale=this.canvasStyleData.scale;let t=localStorage.getItem("user_name");this.loginStatus=t?"登出（"+localStorage.getItem("user_name")+"）":"登录"},methods:{format(t){return(0,ve.JpY)(t,(0,ve.csF)(parseFloat(this.scale),100))},getOriginStyle(t){return(0,ve.csF)(t,(0,ve.csF)(parseFloat(this.canvasStyleData.scale),100))},handleScaleChange(){clearTimeout(this.timer),this.timer=setTimeout((()=>{this.scale=~~this.scale||1;const t=(0,G.p$)(this.componentData);t.forEach((t=>{Object.keys(t.style).forEach((e=>{if(this.needToChange.includes(e)){if("fontSize"===e&&""===t.style[e])return;t.style[e]=this.format(this.getOriginStyle(t.style[e]))}}))})),this.$store.commit("setComponentData",t),this.$store.commit("setCurComponent",{component:t[this.curComponentIndex],index:this.curComponentIndex}),this.$store.commit("setCanvasStyle",{...this.canvasStyleData,scale:this.scale})}),1e3)},lock(){this.$store.commit("lock")},unlock(){this.$store.commit("unlock")},compose(){this.$store.commit("compose"),this.$store.commit("recordSnapshot")},decompose(){this.$store.commit("decompose"),this.$store.commit("recordSnapshot")},undo(){this.$store.commit("undo")},redo(){this.$store.commit("redo")},async addImage(t,e){console.log("addImage:",t,e),this.$store.commit("addComponent",{component:{...It.$Z,id:(0,le.Z)(),component:"Picture",label:"图片",icon:"",propValue:{url:t,flip:{horizontal:!1,vertical:!1}},style:{...It.zH,top:0,left:0,width:e.width,height:e.height}}}),this.$store.commit("recordSnapshot")},async handleFileChange(t){const e=t.target.files[0];if(!e.type.includes("image"))return void(0,ce.Z)("只能插入图片");let n=this,o={file:e},a={fieldname:"file",encoding:"fromfile_binary",originalname:o.file.name,mimetype:o.file.type,filename:o.file.name,path:"file-path",size:o.file.size,user_id:localStorage.getItem("user_id"),s_id:localStorage.getItem("s_id"),img_kind:"open",random:Math.random(),data:o.file,img_q:.5},i=await new Promise((t=>{rpc_client.sendImage(a,(function(e){console.log("sendFile-callback-data:"+JSON.stringify(e)),t(e)}))}));if(!i||!i.data||!i.data.ret)return void this.$message.success("上传失败"+i.data.msg);const s=new Image;let r=i.data.filename;s.onload=()=>{n.addImage(r,s)};let l={user_id:localStorage.getItem("user_id"),s_id:localStorage.getItem("s_id"),filename:r,img_kind:"open"},c=await imageDb.getDataByKey(r);c&&c.data?s.src=c.data:queryImg("",l).then((async t=>{let e="data:image/png;base64,"+t.data;s.src=e,imageDb.addData({img_id:r,data:e})}))},preview(t){this.isScreenshot=t;let e={style:(0,G.p$)(this.canvasStyleData),data:(0,G.p$)(this.componentData)};if(localStorage.setItem("canvasData",JSON.stringify(e.data)),localStorage.setItem("canvasStyle",JSON.stringify(e.style)),top==self)this.$router.push("/view");else{let t={xtype:"pop.preview",xmsg:"from pop.creator",xitem:e};window.top.postMessage(JSON.stringify(t),"*"),this.$message.success("发送预览消息成功！")}},save(){localStorage.setItem("canvasData",JSON.stringify((0,G.p$)(this.componentData))),localStorage.setItem("canvasStyle",JSON.stringify((0,G.p$)(this.canvasStyleData))),this.$message.success("保存成功")},logout(){let t=localStorage.getItem("user_id");t?(this.$message.success("退出登录"),localStorage.removeItem("user_name"),localStorage.removeItem("user_id"),localStorage.removeItem("s_id"),localStorage.removeItem("phone"),localStorage.removeItem("logo"),this.loginStatus="登录"):this.$router.push("/connect")},sendXMSG(){localStorage.setItem("canvasData",JSON.stringify((0,G.p$)(this.componentData))),localStorage.setItem("canvasStyle",JSON.stringify((0,G.p$)(this.canvasStyleData)));let t={xtype:"pop.creator2minicard",xmsg:"from pop.creator"};window.top.postMessage(JSON.stringify(t),"*"),this.$message.success("保存并发送消息成功！")},store(){localStorage.setItem("canvasData",JSON.stringify((0,G.p$)(this.componentData))),localStorage.setItem("canvasStyle",JSON.stringify((0,G.p$)(this.canvasStyleData)));let t=new Date,e=t.getFullYear()+"-"+(1+t.getMonth())+"-"+t.getDate()+":"+t.toLocaleTimeString(),n={style:this.canvasStyleData,data:(0,G.p$)(this.componentData)},o=JSON.stringify(n),a=new Blob([o],{type:""});(0,_e.saveAs)(a,"store-"+e+".json"),this.$message.success("归档成功")},readStore(){const t=document.createElement("input");t.setAttribute("type","file");let e=this;t.addEventListener("change",(function(){if(console.log("data:"+this.files),0==this.files.length)return alert("请选择文件");const t=new FileReader;t.onload=function(){console.log("result:"+t.result),console.log("text:"+t.result);let{style:n,data:o}=JSON.parse(t.result);if(console.log("style:"+JSON.stringify(n),o),confirm("是否以组件方式插入？")){for(let t=0;o&&t<o.length;t++){let n=o[t];n.id=(0,le.Z)(),e.$store.commit("addComponent",{component:JSON.parse(JSON.stringify(n))}),console.log("addComponent:",n)}e.$message.success("读档并插入源码组件成功！")}else e.$store.commit("setCanvasStyle",n),e.$store.commit("setComponentData",o),e.$message.success("读档成功！")},t.readAsText(this.files[0])})),t.click()},clearCanvas(){this.$store.commit("setCurComponent",{component:null,index:null}),this.$store.commit("setComponentData",[]),this.$store.commit("recordSnapshot")},handlePreviewChange(){this.isShowPreview=!1,this.$store.commit("setEditMode","edit")}}},we=be,Se=(0,l.Z)(we,se,re,!1,null,"2c483e56",null),Ce=Se.exports,xe=n(9657),ke=function(){var t=this,e=t._self._c;return e("div",{staticClass:"real-time-component-list"},t._l(t.componentData,(function(n,o){return e("div",{key:o,staticClass:"list",class:{actived:t.transformIndex(o)===t.curComponentIndex},on:{click:function(e){t.onClick(t.transformIndex(o))}}},[e("span",{staticClass:"iconfont",class:"icon-"+t.getComponent(o).icon}),e("span",[t._v(t._s(t.getComponent(o).label))]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"iconfont icon-shangyi",on:{click:function(e){t.upComponent(t.transformIndex(o))}}}),e("span",{staticClass:"iconfont icon-xiayi",on:{click:function(e){t.downComponent(t.transformIndex(o))}}}),e("span",{staticClass:"iconfont icon-shanchu",on:{click:function(e){t.deleteComponent(t.transformIndex(o))}}})])])})),0)},De=[],$e={computed:(0,M.rn)(["componentData","curComponent","curComponentIndex"]),methods:{getComponent(t){return this.componentData[this.componentData.length-1-t]},transformIndex(t){return this.componentData.length-1-t},onClick(t){this.setCurComponent(t)},deleteComponent(){setTimeout((()=>{this.$store.commit("deleteComponent"),this.$store.commit("recordSnapshot")}))},upComponent(){setTimeout((()=>{this.$store.commit("upComponent"),this.$store.commit("recordSnapshot")}))},downComponent(){setTimeout((()=>{this.$store.commit("downComponent"),this.$store.commit("recordSnapshot")}))},setCurComponent(t){this.$store.commit("setCurComponent",{component:this.componentData[t],index:t})}}},Ie=$e,Ee=(0,l.Z)(Ie,ke,De,!1,null,"7168ee16",null),Le=Ee.exports,Me=function(){var t=this,e=t._self._c;return e("div",{staticClass:"attr-container"},[e("p",{staticClass:"title"},[t._v("画布属性")]),e("el-form",{staticStyle:{padding:"20px"}},t._l(Object.keys(t.options),(function(n,o){return e("el-form-item",{key:o,attrs:{label:t.options[n]}},[t.isIncludesColor(n)?e("el-color-picker",{attrs:{"show-alpha":""},model:{value:t.canvasStyleData[n],callback:function(e){t.$set(t.canvasStyleData,n,e)},expression:"canvasStyleData[key]"}}):e("el-input",{attrs:{type:"number"},model:{value:t.canvasStyleData[n],callback:function(e){t.$set(t.canvasStyleData,n,t._n(e))},expression:"canvasStyleData[key]"}})],1)})),1),e("p",{staticClass:"title",staticStyle:{"border-bottom":"0px","margin-bottom":"0px"}},[t._v("编辑$pop.lang源码（按Esc键全屏）")]),e("div",{staticClass:"ceditor0"},[e("div",{staticClass:"ceditor"},[e("CodeEditor",{ref:"coder",staticStyle:{height:"100%",width:"100%"},attrs:{language:"poplang",value:t.canvasStyleData.code,element:t.canvasStyleData},on:{input:t.changeTextarea}}),e("span",{staticStyle:{"font-size":"12px",color:"#303133"}},[t._v("注意：使用F7-F10快捷键影响代码字体大小；F7：15px；F8：13px（默认大小）；F9：缩小1px；F10：放大1px")])],1)])],1)},Ae=[],Oe={components:{CodeEditor:()=>n.e(378).then(n.bind(n,8378))},data(){return{options:{color:"颜色",opacity:"不透明度",backgroundColor:"背景色",fontSize:"字体大小"}}},computed:(0,M.rn)(["canvasStyleData"]),mounted(){},methods:{isIncludesColor(t){return t.toLowerCase().includes("color")},changeTextarea(){return!1}}},Ne=Oe,Pe=(0,l.Z)(Ne,Me,Ae,!1,null,null,null),Te=Pe.exports,Ze={components:{Editor:kt,ComponentList:At,AnimationList:Kt,EventList:ie,Toolbar:Ce,RealTimeComponentList:Le,CanvasAttr:Te},data(){return{activeName:"attr",reSelectAnimateIndex:void 0}},computed:(0,M.rn)(["componentData","curComponent","isClickComponent","canvasStyleData","editor"]),created(){this.restore(),(0,xe.Y)(),window.g_dchatManager&&window.g_dchatManager.setViewContext(this)},methods:{restore(){localStorage.getItem("canvasData")&&this.$store.commit("setComponentData",JSON.parse(localStorage.getItem("canvasData"))),localStorage.getItem("canvasStyle")&&this.$store.commit("setCanvasStyle",JSON.parse(localStorage.getItem("canvasStyle")))},handleDrop(t){t.preventDefault(),t.stopPropagation();const e=t.dataTransfer.getData("index"),n=this.editor.getBoundingClientRect();if(e){const o=(0,G.p$)(It.ZP[e]);o.style.top=t.clientY-n.y,o.style.left=t.clientX-n.x,o.id=(0,le.Z)(),this.$store.commit("addComponent",{component:o}),this.$store.commit("recordSnapshot")}},handleDragOver(t){t.preventDefault(),t.dataTransfer.dropEffect="copy"},handleMouseDown(t){t.stopPropagation(),this.$store.commit("setClickComponentStatus",!1),this.$store.commit("setInEditorStatus",!0)},deselectCurComponent(t){this.isClickComponent||this.$store.commit("setCurComponent",{component:null,index:null}),2!=t.button&&this.$store.commit("hideContextMenu")}}},qe=Ze,Ve=(0,l.Z)(qe,$,I,!1,null,null,null),je=Ve.exports;o["default"].use(h.Z);const ze=[{path:"/",name:"Home",component:je},{path:"/index",name:"Home",component:je},{path:"/connect",name:"connect",component:b},{path:"/changeSvrNode",name:"changeSvrNode",component:D},{path:"/view",name:"View",component:()=>n.e(661).then(n.bind(n,3661))},{path:"/view2",name:"View2",component:()=>n.e(661).then(n.bind(n,3661))}];var Re=new h.Z({routes:ze});const Ue=["CircleShape","Picture","CAUTH","VText","VButton","Group","RectShape","LineShape","VTable","Upload","CForm","CPop"];Ue.forEach((t=>{o["default"].component(t,(()=>n(8832)(`./${t}/Component`))),o["default"].component(t+"Attr",(()=>n(8968)(`./${t}/Attr`)))}));const We=["SVGStar","SVGTriangle"];We.forEach((t=>{o["default"].component(t,(()=>n(6881)(`./${t}/Component`))),o["default"].component(t+"Attr",(()=>n(2232)(`./${t}/Attr`)))})),o["default"].use(i(),{size:"small"}),o["default"].config.productionTip=!1,new o["default"]({el:"#app",router:Re,store:d.Z,render:t=>t(p)})},1637:function(t,e,n){"use strict";n.d(e,{Z:function(){return k}});var o=n(144),a=n(629),i={mutations:{addAnimation({curComponent:t},e){t.animations.push(e)},removeAnimation({curComponent:t},e){t.animations.splice(e,1)},alterAnimation({curComponent:t},{index:e,data:n={}}){if("number"===typeof e){const o=t.animations[e];t.animations[e]={...o,...n}}}}},s=n(1840),r=n(4003),l=n(2648),c=n(1457);function u(t,e,n){const o=(0,l.$)(`#component${t.id}`).getBoundingClientRect(),a={x:o.left-e.left+o.width/2,y:o.top-e.top+o.height/2};t.style.rotate=(0,c.KV)(t.style.rotate+n.rotate),t.style.width=parseFloat(t.groupStyle.width)/100*n.width,t.style.height=parseFloat(t.groupStyle.height)/100*n.height,t.style.left=a.x-t.style.width/2,t.style.top=a.y-t.style.height/2,t.groupStyle={}}var p=n(6845),d=n(9748),h={state:{areaData:{style:{top:0,left:0,width:0,height:0},components:[]},editor:null},mutations:{getEditor(t){t.editor=(0,l.$)("#editor")},setAreaData(t,e){t.areaData=e},compose({componentData:t,areaData:e,editor:n}){const o=[];e.components.forEach((t=>{if("Group"!=t.component)o.push(t);else{const e={...t.style},a=t.propValue,i=n.getBoundingClientRect();a.forEach((t=>{u(t,i,e)})),o.push(...t.propValue)}}));const a={id:(0,s.Z)(),component:"Group",label:"组合",icon:"zuhe",...p.$Z,style:{...p.zH,...e.style},propValue:o};(0,d.UW)(a),k.commit("addComponent",{component:a}),r.Z.$emit("hideArea"),k.commit("batchDeleteComponent",e.components),k.commit("setCurComponent",{component:t[t.length-1],index:t.length-1}),e.components=[]},batchDeleteComponent({componentData:t},e){e.forEach((e=>{for(let n=0,o=t.length;n<o;n++)if(e.id==t[n].id){t.splice(n,1);break}}))},decompose({curComponent:t,editor:e}){const n={...t.style},o=t.propValue,a=e.getBoundingClientRect();k.commit("deleteComponent"),o.forEach((t=>{u(t,a,n),k.commit("addComponent",{component:t})}))}}},m={state:{menuTop:0,menuLeft:0,menuShow:!1},mutations:{showContextMenu(t,{top:e,left:n}){t.menuShow=!0,t.menuTop=e,t.menuLeft=n},hideContextMenu(t){t.menuShow=!1}}},f=n(9330),g={state:{copyData:null,isCut:!1},mutations:{copy(t){t.curComponent?(y(t),v(t),t.isCut=!1):(0,f.Z)("请选择组件")},paste(t,e){if(!t.copyData)return void(0,f.Z)("请选择组件");const n=t.copyData.data;e?(n.style.top=t.menuTop,n.style.left=t.menuLeft):(n.style.top+=10,n.style.left+=10),n.id=(0,s.Z)(),k.commit("addComponent",{component:(0,l.p$)(n)}),t.isCut&&(t.copyData=null)},cut(t){t.curComponent?(y(t),v(t),k.commit("deleteComponent"),t.isCut=!0):(0,f.Z)("请选择组件")}}};function y(t){if(t.isCut&&t.copyData){const e=(0,l.p$)(t.copyData.data),n=t.copyData.index;k.commit("addComponent",{component:e,index:n}),t.curComponentIndex>=n&&t.curComponentIndex++}}function v(t){t.copyData={data:(0,l.p$)(t.curComponent),index:t.curComponentIndex}}var _={mutations:{addEvent({curComponent:t},{event:e,param:n}){t.events[e]=n},removeEvent({curComponent:t},e){o["default"]["delete"](t.events,e)}}},b={mutations:{upComponent(t){const{componentData:e,curComponentIndex:n}=t;n<e.length-1?((0,l.LF)(e,n,n+1),t.curComponentIndex=n+1):(0,f.Z)("已经到顶了")},downComponent(t){const{componentData:e,curComponentIndex:n}=t;n>0?((0,l.LF)(e,n,n-1),t.curComponentIndex=n-1):(0,f.Z)("已经到底了")},topComponent(t){const{componentData:e,curComponentIndex:n,curComponent:o}=t;n<e.length-1?(e.splice(n,1),e.push(o),t.curComponentIndex=e.length-1):(0,f.Z)("已经到顶了")},bottomComponent(t){const{componentData:e,curComponentIndex:n,curComponent:o}=t;n>0?(e.splice(n,1),e.unshift(o),t.curComponentIndex=0):(0,f.Z)("已经到底了")}}},w={state:{snapshotData:[],snapshotIndex:-1},mutations:{undo(t){if(t.snapshotIndex>=0){t.snapshotIndex--;const e=(0,l.p$)(t.snapshotData[t.snapshotIndex])||[];if(t.curComponent){const n=!e.find((e=>t.curComponent.id===e.id));n&&k.commit("setCurComponent",{component:null,index:null})}k.commit("setComponentData",e)}},redo(t){t.snapshotIndex<t.snapshotData.length-1&&(t.snapshotIndex++,k.commit("setComponentData",(0,l.p$)(t.snapshotData[t.snapshotIndex])))},recordSnapshot(t){t.snapshotData[++t.snapshotIndex]=(0,l.p$)(t.componentData),t.snapshotIndex<t.snapshotData.length-1&&(t.snapshotData=t.snapshotData.slice(0,t.snapshotIndex+1))}}},S={mutations:{lock({curComponent:t}){t.isLock=!0},unlock({curComponent:t}){t.isLock=!1}}},C={mutations:{addCode({curComponent:t},{event:e,param:n}){t.codes=t.codes?t.codes:{},t.codes[e]=n},removeCode({curComponent:t},e){o["default"]["delete"](t.codes,e)}}};o["default"].use(a.ZP);const x={state:{...i.state,...h.state,...m.state,...g.state,..._.state,...b.state,...w.state,...S.state,...C.state,editMode:"edit",canvasStyleData:{width:1200,height:740,scale:100,color:"#000",opacity:1,background:"#fff",fontSize:14},isInEdiotr:!1,componentData:[],curComponent:null,curComponentIndex:null,isClickComponent:!1},mutations:{...i.mutations,...h.mutations,...m.mutations,...g.mutations,..._.mutations,...b.mutations,...w.mutations,...S.mutations,...C.mutations,setClickComponentStatus(t,e){t.isClickComponent=e},setEditMode(t,e){t.editMode=e},setInEditorStatus(t,e){t.isInEdiotr=e},setCanvasStyle(t,e){t.canvasStyleData=e},setCurComponent(t,{component:e,index:n}){t.curComponent=e,t.curComponentIndex=n},setShapeStyle({curComponent:t},{top:e,left:n,width:o,height:a,rotate:i}){e&&(t.style.top=Math.round(e)),n&&(t.style.left=Math.round(n)),o&&(t.style.width=Math.round(o)),a&&(t.style.height=Math.round(a)),i&&(t.style.rotate=Math.round(i))},setShapeSingleStyle({curComponent:t},{key:e,value:n}){t.style[e]=n},setComponentData(t,e=[]){o["default"].set(t,"componentData",e)},addComponent(t,{component:e,index:n}){void 0!==n?t.componentData.splice(n,0,e):t.componentData.push(e)},deleteComponent(t,e){void 0===e&&(e=t.curComponentIndex),e==t.curComponentIndex&&(t.curComponentIndex=null,t.curComponent=null),/\d/.test(e)&&t.componentData.splice(e,1)}}};var k=new a.ZP.Store(x)},7532:function(){"use strict"},4003:function(t,e,n){"use strict";var o=n(144);e["Z"]=new o["default"]},6683:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{oQ:function(){return eventList},tA:function(){return mixins}});const events={redirect(t){t&&(window.location.href=t)},alert(t){t&&alert(t)},code(c){c&&(console.log("event-code-this:"+this),console.log("event-code-this:"+Object.keys(this)),console.log("event-code-this:"+JSON.stringify(this._props)),eval(c))}},mixins={methods:events},eventList=[{key:"redirect",label:"跳转事件",event:events.redirect,param:""},{key:"alert",label:"alert 事件",event:events.alert,param:""},{key:"code",label:"代码 事件",event:events.code,param:""}]},1840:function(t,e,n){"use strict";n.d(e,{Z:function(){return a}});var o=n(9879);function a(){return(0,o.x0)()}},3229:function(t,e,n){"use strict";async function o(t,e=[]){const n=e=>new Promise((n=>{const{animationTime:o,value:i="",isLoop:s}=e;t.style.setProperty("--time",o+"s"),t.classList.add(i,"animated",a(s));const r=()=>{t.removeEventListener("animationend",r),t.removeEventListener("animationcancel",r),t.classList.remove(i,"animated",a(s)),t.style.removeProperty("--time"),n()};t.addEventListener("animationend",r),t.addEventListener("animationcancel",r)}));for(let o=0,a=e.length;o<a;o++)await n(e[o])}function a(t){return t?"infinite":"no-infinite"}n.d(e,{Z:function(){return o}})},9657:function(t,e,n){"use strict";n.d(e,{Y:function(){return D},k:function(){return w}});var o=n(1637),a=n(4003);const i=17,s=91,r=86,l=67,c=88,u=89,p=90,d=71,h=66,m=76,f=85,g=83,y=80,v=68,_=46,b=69,w=[66,67,68,69,71,76,80,83,85,86,88,89,90],S={[r]:I,[u]:L,[p]:M,[g]:N,[y]:P,[b]:Z},C={...S,[f]:V},x={...S,[l]:$,[c]:E,[d]:A,[h]:O,[v]:T,[_]:T,[m]:q};let k=!1;function D(){window.onkeydown=t=>{if(!o.Z.state.isInEdiotr)return;const{curComponent:e}=o.Z.state,{keyCode:n}=t;n===i||n===s?k=!0:n==_&&e?(o.Z.commit("deleteComponent"),o.Z.commit("recordSnapshot")):k&&(!x[n]||e&&e.isLock?C[n]&&e&&e.isLock&&(t.preventDefault(),C[n]()):(t.preventDefault(),x[n]()))},window.onkeyup=t=>{t.keyCode!==i&&t.keyCode!==s||(k=!1)},window.onmousedown=()=>{o.Z.commit("setInEditorStatus",!1)}}function $(){o.Z.commit("copy")}function I(){o.Z.commit("paste"),o.Z.commit("recordSnapshot")}function E(){o.Z.commit("cut")}function L(){o.Z.commit("redo")}function M(){o.Z.commit("undo")}function A(){o.Z.state.areaData.components.length&&(o.Z.commit("compose"),o.Z.commit("recordSnapshot"))}function O(){const t=o.Z.state.curComponent;t&&!t.isLock&&"Group"==t.component&&(o.Z.commit("decompose"),o.Z.commit("recordSnapshot"))}function N(){a.Z.$emit("save")}function P(){a.Z.$emit("preview")}function T(){o.Z.state.curComponent&&(o.Z.commit("deleteComponent"),o.Z.commit("recordSnapshot"))}function Z(){a.Z.$emit("clearCanvas")}function q(){o.Z.commit("lock")}function V(){o.Z.commit("unlock")}},9748:function(t,e,n){"use strict";n.d(e,{$i:function(){return u},B$:function(){return a},C2:function(){return r},UW:function(){return p},WF:function(){return s},fg:function(){return l}});n(6699);var o=n(1457);function a(t){const e={};return["width","height","top","left","rotate"].forEach((n=>{"rotate"!=n?e[n]=t[n]+"px":e.transform="rotate("+t[n]+"deg)"})),e}const i=["fontSize","width","height","top","left","borderWidth","letterSpacing","borderRadius"];function s(t,e=[]){const n={};return["opacity","width","height","top","left","rotate","fontSize","fontWeight","lineHeight","letterSpacing","textAlign","color"].forEach((o=>{e.includes(o)||("rotate"!=o?""!==t[o]&&(n[o]=t[o],i.includes(o)&&(n[o]+="px")):n.transform=o+"("+t[o]+"deg)")})),n}function r(t,e=[]){const n={};return Object.keys(t).forEach((o=>{e.includes(o)||("rotate"!=o?""!==t[o]&&(n[o]=t[o],i.includes(o)&&(n[o]+="px")):n.transform=o+"("+t[o]+"deg)")})),n}function l(t){if(t={...t},0!=t.rotate){const e=t.width*(0,o.mC)(t.rotate)+t.height*(0,o.O$)(t.rotate),n=(t.width-e)/2;t.left+=n,t.right=t.left+e;const a=t.height*(0,o.mC)(t.rotate)+t.width*(0,o.O$)(t.rotate),i=(a-t.height)/2;t.top-=i,t.bottom=t.top+a,t.width=e,t.height=a}else t.bottom=t.top+t.height,t.right=t.left+t.width;return t}const c=["width","height","scale"];function u(t){const e={};return Object.keys(t).filter((t=>!c.includes(t))).forEach((n=>{e[n]=t[n],"fontSize"===n&&(e[n]+="px")})),e}function p(t){const e=t.style;t.propValue.forEach((t=>{if(!Object.keys(t.groupStyle).length){const n={...t.style};t.component.startsWith("SVG")?t.groupStyle=s(n):t.groupStyle=r(n),t.groupStyle.left=(0,o.yI)((n.left-e.left)/e.width),t.groupStyle.top=(0,o.yI)((n.top-e.top)/e.height),t.groupStyle.width=(0,o.yI)(n.width/e.width),t.groupStyle.height=(0,o.yI)(n.height/e.height)}}))}},9330:function(t,e,n){"use strict";n.d(e,{Z:function(){return a}});var o=n(4720);function a(t="",e="error",n=1500){(0,o.Message)({message:t,type:e,duration:n})}},1457:function(t,e,n){"use strict";n.d(e,{EY:function(){return p},Ej:function(){return s},KV:function(){return u},Lb:function(){return r},O$:function(){return l},mC:function(){return c},yI:function(){return d}});var o=n(1637),a=n(715);function i(t){return t*Math.PI/180}function s(t,e,n){return{x:(t.x-e.x)*Math.cos(i(n))-(t.y-e.y)*Math.sin(i(n))+e.x,y:(t.x-e.x)*Math.sin(i(n))+(t.y-e.y)*Math.cos(i(n))+e.y}}function r(t,e){return{x:t.x+(e.x-t.x)/2,y:t.y+(e.y-t.y)/2}}function l(t){return Math.abs(Math.sin(i(t)))}function c(t){return Math.abs(Math.cos(i(t)))}function u(t){return(t+360)%360}function p(t){return(0,a.JpY)(t,(0,a.csF)(parseInt(o.Z.state.canvasStyleData.scale),100))}function d(t){return 100*t+"%"}},2648:function(t,e,n){"use strict";n.d(e,{$:function(){return s},LF:function(){return i},p$:function(){return a},rc:function(){return l}});n(6699);var o=n(144);function a(t){if(t instanceof PopRuntime)return null;if(t==window)return null;if("object"==typeof t){const e=Array.isArray(t)?[]:{};for(const n in t)"object"==typeof t[n]?e[n]=a(t[n]):e[n]=t[n];return e}return t}function i(t,e,n){const a=t[e];o["default"].set(t,e,t[n]),o["default"].set(t,n,a)}function s(t){return document.querySelector(t)}const r=["VText","RectShape","CircleShape"];function l(t){return!r.includes(t)&&!t.startsWith("SVG")}},2232:function(t,e,n){var o={"./SVGStar/Attr":[6703,703],"./SVGTriangle/Attr":[8316,316]};function a(t){if(!n.o(o,t))return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}));var e=o[t],a=e[0];return n.e(e[1]).then((function(){return n(a)}))}a.keys=function(){return Object.keys(o)},a.id=2232,t.exports=a},6881:function(t,e,n){var o={"./SVGStar/Component":[3996,996],"./SVGTriangle/Component":[5723,723]};function a(t){if(!n.o(o,t))return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}));var e=o[t],a=e[0];return n.e(e[1]).then((function(){return n(a)}))}a.keys=function(){return Object.keys(o)},a.id=6881,t.exports=a},8968:function(t,e,n){var o={"./CAUTH/Attr":[6374,374],"./CForm/Attr":[152,152],"./CPop/Attr":[411,411],"./CircleShape/Attr":[185,185],"./Group/Attr":[2334,334],"./LineShape/Attr":[866,866],"./Picture/Attr":[3749,749],"./RectShape/Attr":[4884,884],"./Upload/Attr":[4331,331],"./VButton/Attr":[3924,924],"./VTable/Attr":[8417,417],"./VText/Attr":[3701,701],"./svgs/SVGStar/Attr":[6703,703],"./svgs/SVGTriangle/Attr":[8316,316]};function a(t){if(!n.o(o,t))return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}));var e=o[t],a=e[0];return n.e(e[1]).then((function(){return n(a)}))}a.keys=function(){return Object.keys(o)},a.id=8968,t.exports=a},8832:function(t,e,n){var o={"./CAUTH/Component":[2657,657],"./CForm/Component":[5088,88],"./CPop/Component":[1826,826],"./CircleShape/Component":[9898,898],"./Group/Component":[8263,263],"./LineShape/Component":[1910,910],"./Picture/Component":[9363,758],"./RectShape/Component":[7963,963],"./Upload/Component":[9987,987],"./VButton/Component":[1620,620],"./VTable/Component":[4959,959],"./VText/Component":[5641,641],"./svgs/SVGStar/Component":[3996,996],"./svgs/SVGTriangle/Component":[5723,723]};function a(t){if(!n.o(o,t))return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}));var e=o[t],a=e[0];return n.e(e[1]).then((function(){return n(a)}))}a.keys=function(){return Object.keys(o)},a.id=8832,t.exports=a},3110:function(t,e,n){"use strict";t.exports=n.p+"img/bg06.aa22d11a.jpg"},1845:function(t,e,n){"use strict";t.exports=n.p+"img/R-C-1.e8e0e5fb.png"},8572:function(t,e,n){"use strict";t.exports=n.p+"img/R-C.449eae20.png"},2480:function(){},5042:function(){}},__webpack_module_cache__={};function __webpack_require__(t){var e=__webpack_module_cache__[t];if(void 0!==e)return e.exports;var n=__webpack_module_cache__[t]={id:t,loaded:!1,exports:{}};return __webpack_modules__[t].call(n.exports,n,n.exports,__webpack_require__),n.loaded=!0,n.exports}__webpack_require__.m=__webpack_modules__,function(){__webpack_require__.amdD=function(){throw new Error("define cannot be used indirect")}}(),function(){__webpack_require__.amdO={}}(),function(){var t=[];__webpack_require__.O=function(e,n,o,a){if(!n){var i=1/0;for(c=0;c<t.length;c++){n=t[c][0],o=t[c][1],a=t[c][2];for(var s=!0,r=0;r<n.length;r++)(!1&a||i>=a)&&Object.keys(__webpack_require__.O).every((function(t){return __webpack_require__.O[t](n[r])}))?n.splice(r--,1):(s=!1,a<i&&(i=a));if(s){t.splice(c--,1);var l=o();void 0!==l&&(e=l)}}return e}a=a||0;for(var c=t.length;c>0&&t[c-1][2]>a;c--)t[c]=t[c-1];t[c]=[n,o,a]}}(),function(){__webpack_require__.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return __webpack_require__.d(e,{a:e}),e}}(),function(){__webpack_require__.d=function(t,e){for(var n in e)__webpack_require__.o(e,n)&&!__webpack_require__.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}}(),function(){__webpack_require__.f={},__webpack_require__.e=function(t){return Promise.all(Object.keys(__webpack_require__.f).reduce((function(e,n){return __webpack_require__.f[n](t,e),e}),[]))}}(),function(){__webpack_require__.u=function(t){return"js/"+t+"."+{60:"a47926fc",88:"cfd269d9",152:"26eb4e5f",185:"f98075e8",263:"08d88e5c",316:"f0ff90b9",331:"93f9d32b",334:"cee9c46c",374:"7dcbd7bc",378:"ac98496a",411:"a213d18d",417:"ba5383dd",620:"aad3738c",641:"48cc7160",657:"121b89ef",661:"ccada05f",701:"375d5e8d",703:"bd24e5f8",723:"e00e0d84",749:"06150ff8",758:"a77cb05a",826:"b750bbff",866:"9aa67fa5",884:"02afd4a9",898:"651331c9",903:"c0802b11",910:"383b41a6",924:"dd5748ff",959:"e936b9b4",963:"75583f38",987:"3665c9ea",996:"66e7113f"}[t]+".js"}}(),function(){__webpack_require__.miniCssF=function(t){return"css/"+t+"."+{60:"a20bd6ad",152:"d4f9347a",185:"d4f9347a",263:"5c470a64",316:"d4f9347a",331:"d4f9347a",334:"d4f9347a",374:"d4f9347a",378:"b85d78af",411:"d4f9347a",417:"e8b86349",620:"1ab8ddab",641:"0a58af9f",657:"099d421b",661:"a3dd088b",701:"d4f9347a",703:"d4f9347a",723:"518b4dad",749:"d4f9347a",826:"ad9b9f20",866:"d4f9347a",884:"d4f9347a",898:"f8097656",903:"ae960071",910:"0c7d2d18",924:"d4f9347a",959:"fe837325",963:"937a107f",996:"1defa9b5"}[t]+".css"}}(),function(){__webpack_require__.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){__webpack_require__.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={},e="dtns.creator:";__webpack_require__.l=function(n,o,a,i){if(t[n])t[n].push(o);else{var s,r;if(void 0!==a)for(var l=document.getElementsByTagName("script"),c=0;c<l.length;c++){var u=l[c];if(u.getAttribute("src")==n||u.getAttribute("data-webpack")==e+a){s=u;break}}s||(r=!0,s=document.createElement("script"),s.charset="utf-8",s.timeout=120,__webpack_require__.nc&&s.setAttribute("nonce",__webpack_require__.nc),s.setAttribute("data-webpack",e+a),s.src=n),t[n]=[o];var p=function(e,o){s.onerror=s.onload=null,clearTimeout(d);var a=t[n];if(delete t[n],s.parentNode&&s.parentNode.removeChild(s),a&&a.forEach((function(t){return t(o)})),e)return e(o)},d=setTimeout(p.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=p.bind(null,s.onerror),s.onload=p.bind(null,s.onload),r&&document.head.appendChild(s)}}}(),function(){__webpack_require__.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){__webpack_require__.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t}}(),function(){__webpack_require__.p=""}(),function(){var t=function(t,e,n,o){var a=document.createElement("link");a.rel="stylesheet",a.type="text/css";var i=function(i){if(a.onerror=a.onload=null,"load"===i.type)n();else{var s=i&&("load"===i.type?"missing":i.type),r=i&&i.target&&i.target.href||e,l=new Error("Loading CSS chunk "+t+" failed.\n("+r+")");l.code="CSS_CHUNK_LOAD_FAILED",l.type=s,l.request=r,a.parentNode.removeChild(a),o(l)}};return a.onerror=a.onload=i,a.href=e,document.head.appendChild(a),a},e=function(t,e){for(var n=document.getElementsByTagName("link"),o=0;o<n.length;o++){var a=n[o],i=a.getAttribute("data-href")||a.getAttribute("href");if("stylesheet"===a.rel&&(i===t||i===e))return a}var s=document.getElementsByTagName("style");for(o=0;o<s.length;o++){a=s[o],i=a.getAttribute("data-href");if(i===t||i===e)return a}},n=function(n){return new Promise((function(o,a){var i=__webpack_require__.miniCssF(n),s=__webpack_require__.p+i;if(e(i,s))return o();t(n,s,o,a)}))},o={143:0};__webpack_require__.f.miniCss=function(t,e){var a={60:1,152:1,185:1,263:1,316:1,331:1,334:1,374:1,378:1,411:1,417:1,620:1,641:1,657:1,661:1,701:1,703:1,723:1,749:1,826:1,866:1,884:1,898:1,903:1,910:1,924:1,959:1,963:1,996:1};o[t]?e.push(o[t]):0!==o[t]&&a[t]&&e.push(o[t]=n(t).then((function(){o[t]=0}),(function(e){throw delete o[t],e})))}}(),function(){var t={143:0};__webpack_require__.f.j=function(e,n){var o=__webpack_require__.o(t,e)?t[e]:void 0;if(0!==o)if(o)n.push(o[2]);else{var a=new Promise((function(n,a){o=t[e]=[n,a]}));n.push(o[2]=a);var i=__webpack_require__.p+__webpack_require__.u(e),s=new Error,r=function(n){if(__webpack_require__.o(t,e)&&(o=t[e],0!==o&&(t[e]=void 0),o)){var a=n&&("load"===n.type?"missing":n.type),i=n&&n.target&&n.target.src;s.message="Loading chunk "+e+" failed.\n("+a+": "+i+")",s.name="ChunkLoadError",s.type=a,s.request=i,o[1](s)}};__webpack_require__.l(i,r,"chunk-"+e,e)}},__webpack_require__.O.j=function(e){return 0===t[e]};var e=function(e,n){var o,a,i=n[0],s=n[1],r=n[2],l=0;if(i.some((function(e){return 0!==t[e]}))){for(o in s)__webpack_require__.o(s,o)&&(__webpack_require__.m[o]=s[o]);if(r)var c=r(__webpack_require__)}for(e&&e(n);l<i.length;l++)a=i[l],__webpack_require__.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return __webpack_require__.O(c)},n=self["webpackChunkdtns_creator"]=self["webpackChunkdtns_creator"]||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var __webpack_exports__=__webpack_require__.O(void 0,[998],(function(){return __webpack_require__(7897)}));__webpack_exports__=__webpack_require__.O(__webpack_exports__)})();
//# sourceMappingURL=app.61acaab5.js.map