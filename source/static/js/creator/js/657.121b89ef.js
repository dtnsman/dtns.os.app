"use strict";(self["webpackChunkdtns_creator"]=self["webpackChunkdtns_creator"]||[]).push([[657],{2657:function(e,t,o){o.r(t),o.d(t,{default:function(){return p}});var n=function(){var e=this,t=e._self._c;return"ok"!=e.isok?t("div",[t("img",{attrs:{src:e.propValue.url,width:"100px",height:"100px"},on:{click:e.onclick}})]):t("div",[t("img",{attrs:{src:e.propValue.url1,width:"100px",height:"100px"}}),t("span",{staticStyle:{width:"300px",overflow:"hidden","text-overflow":"ellipsis","-o-text-overflow":"ellipsis"}},[e._v(e._s(e.token_key))])])},l=[],i=o(2689),s=(o(7532),o(1354),o(2153),o(8214),o(7191),{extends:i.Z,props:{propValue:{type:Object,required:!0,default:()=>{},url:"http://ec2-52-81-96-59.cn-north-1.compute.amazonaws.com.cn:61000/node.lauo.valuetest/chain/file/valuetest_filezG8jnpsSTiLi"},element:{type:Object,default:()=>{}}},data(){return{isok:!1,token_key:""}},created(){this.propCTX={},this.poplang=new PopRuntime(this.propCTX);const e=localStorage.getItem("protocol_config");console.log("protocolCache:"+JSON.stringify(e)),e&&(this.poplang.setProtocol(JSON.parse(e)),this.isok="ok")},methods:{onclick(){if("ok"==this.isok)return 0;alert("请选择密钥配置文件（ROOT）");const e=document.createElement("input");e.setAttribute("type","file");let t=this;e.addEventListener("change",(async function(){if(console.log("data:"+this.files),0==this.files.length)return alert("请选择文件");console.log("upload-files:"+JSON.stringify(this.files[0].name));const e=new FileReader;e.onload=async function(){console.log("result:"+e.result);let o=JSON.parse(e.result);t.poplang.setProtocol(o),await t.poplang.op(null,"set","token",o.root_config.TOKEN_ROOT),await t.poplang.op(null,"set","opval",864e4);let n=await t.poplang.op(null,"token.key","token","token","opval","token");console.log("token-key-result:"+JSON.stringify(n)),n.ret&&n.rpc_func_ret&&n.rpc_func_ret&&(t.isok="ok",t.token_key=n.rpc_func_ret.token_key,t.protocol=o,delete o.root_config.appids,delete o.root_config.secret_keys,delete o.root_config.private_key,o.root_config.token_key=n.rpc_func_ret.token_key,localStorage.setItem("protocol_config",JSON.stringify(o)),console.log("protocol-cached:"+JSON.stringify(o)))},e.readAsText(this.files[0])})),e.click()}}}),r=s,c=o(1001),a=(0,c.Z)(r,n,l,!1,null,"c6400c8a",null),p=a.exports},2689:function(e,t,o){o.d(t,{Z:function(){return p}});var n,l,i=o(4003),s={props:{linkage:{type:Object,default:()=>{}},element:{type:Object,default:()=>{}}},created(){this.linkage?.data?.length&&(i.Z.$on("v-click",this.onClick),i.Z.$on("v-hover",this.onHover))},mounted(){const{data:e,duration:t}=this.linkage||{};e?.length&&(this.$el.style.transition=`all ${t}s`)},beforeDestroy(){this.linkage?.data?.length&&(i.Z.$off("v-click",this.onClick),i.Z.$off("v-hover",this.onHover))},methods:{changeStyle(e=[]){e.forEach((e=>{e.style.forEach((e=>{e.key&&(this.element.style[e.key]=e.value)}))}))},onClick(e){const t=this.linkage.data.filter((t=>t.id===e&&"v-click"===t.event));this.changeStyle(t)},onHover(e){const t=this.linkage.data.filter((t=>t.id===e&&"v-hover"===t.event));this.changeStyle(t)}}},r=s,c=o(1001),a=(0,c.Z)(r,n,l,!1,null,null,null),p=a.exports}}]);
//# sourceMappingURL=657.121b89ef.js.map